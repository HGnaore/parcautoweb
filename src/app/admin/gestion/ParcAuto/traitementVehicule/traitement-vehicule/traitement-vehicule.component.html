<!-- Content Header (Page header) -->
<section role="main" class="content-header" [@simpleFadeAnimation]="'in'">
  <!--header class="page-header page-header-left-inline-breadcrumb" style="margin: 0px; padding-top: 20px;">
        <h2 class="font-weight-bold text-6">VEHICULE RTI</h2>
        <div class="right-wrapper">
            <ol class="breadcrumbs">
                <li><span><a routerLink="/admin/dashboard">Accueil</a></span></li>
                <li><span><a routerLink="/admin/admin/directionList">Véhicule</a></span></li>
                <li><span>Edition</span></li>
            </ol>
            <button type="button" class="btn btn-danger btn-sm btn-px-4 py-3 d-flex align-items-center font-weight-semibold line-height-1" routerLink='/admin/admin/vehiculeList'>
                <i class="fa fa-times text-4 mr-2"></i> QUITTER</button>
             </div>
    </header-->

  <!-- /.content-header -->

  <!-- start: page -->
  <div class="row">
    <div class="col-lg-12">
      <section class="card">
        <!--h2 class="card-title"></h2-->

        <!--div class="spinner4" *ngIf="isLoadingResults">
                <div class="bounce1"></div>
                <div class="bounce2"></div>
                <div class="bounce3"></div>
            </div-->

        <section class="card card-primary">
          <header class="card-header bg-secondary" style="padding: 10px">
            <div class="row">
              <div class="col-md-9 text-center">
                <h1
                  class="card-title text-white"
                  style="padding: 0px; margin: 0px"
                >
                  <span style="font-weight: 500" class="text-warning mr-2"
                    >VEHICULE</span
                  >[{{ imatriculation | uppercase }}] -
                  {{ marque | uppercase }} {{ modele | uppercase }}
                  <span> - {{ fonctionVehicule | uppercase }}</span>
                </h1>
              </div>

              <div class="col-md-3 text-right">
                <button
                  type="button"
                  class="btn btn-danger"
                  routerLink="/admin/admin/vehiculeList"
                >
                Quitter <i class="fa fa-arrow-right"></i>
                </button>
              </div>
            </div>
          </header>

          <div class="card-body">
            <div class="row">
              <div class="col-md-2">
                <section class="card card-outline card-danger mb-1 pt-2">
                  <a href="{{ imagePreview }}" target="_blank">
                    <img
                      [src]="imagePreview"
                      style="width: 200px"
                      class="image-preview rounded img-fluid"
                  /></a>
                </section>
              </div>

              <div class="col-md-4">
                <section class="card card-info mb-2">
                  <header class="card-header" style="margin: 0px; padding: 0px">
                    <h3 class="card-title" style="margin: 2px; padding: 4px">
                      CARTE GRISE
                    </h3>
                  </header>
                  <div
                    class="card-body"
                    style="
                      padding-top: 2px;
                      padding-bottom: 0px;
                      background-color: rgb(239, 248, 243);
                    "
                  >
                    <div class="row">
                      <div class="col-md-5">
                        <ul class="list-unstyled">
                          <li>Immatriculation</li>
                          <li class="propName">{{ imatriculation }}</li>
                          <hr class="solid mb-1 mt-1" />
                          <li>Carte Grise</li>
                          <li class="propName">{{ numeroCarteGrise }}</li>
                          <hr class="solid mb-1 mt-1" />
                          <li>Mise en ciruclation</li>
                          <li class="propName">
                            {{
                              datemiseenserviceCarteGrise | date : "dd/MM/yyyy"
                            }}
                          </li>
                          <hr class="solid mb-1 mt-1" />
                          <li>Date d'édition</li>
                          <li class="propName">
                            {{ dateeditionCarteGrise | date : "dd/MM/yyyy" }}
                          </li>
                        </ul>
                      </div>
                      <div class="col-md-7">
                        <ul class="list-unstyled">
                          <li>ID Propriétaire</li>
                          <li></li>
                          <li class="propName">
                            {{ codeproprietaireCarteGrise }}
                          </li>
                          <hr class="solid mb-1 mt-1" />
                          <li>
                            Marque:
                            <span class="propName">{{
                              marque | uppercase
                            }}</span>
                          </li>
                          <li>
                            Genre:
                            <span class="propName">{{ genreCarteGrise }}</span>
                          </li>
                          <hr class="solid mb-1 mt-1" />
                          <li>
                            Type commercial:
                            <span class="propName">{{
                              modele | uppercase
                            }}</span>
                          </li>
                          <li>
                            Couleur:
                            <span class="propName">{{
                              couleurCarteGrise | uppercase
                            }}</span>
                          </li>
                          <hr class="solid mb-1 mt-1" />
                          <li>
                            Energie:
                            <span class="propName">{{
                              energieCarteGrise
                            }}</span>
                          </li>
                          <li>
                            Place:
                            <span class="propName">{{
                              nbreplaceCarteGrise
                            }}</span>
                          </li>
                          <li>
                            Chassis:
                            <span
                              style="font-size: 13px"
                              class="propName text-danger"
                              >{{ numchassisCarteGrise }}</span
                            >
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </section>
              </div>

              <div class="col-md-3">
                <section class="card card-info mb-2">
                  <header class="card-header" style="margin: 0px; padding: 0px">
                    <h3 class="card-title" style="margin: 2px; padding: 4px">
                      VISITE TECHNIQUE ET VIGNETTE
                    </h3>
                  </header>
                  <div
                    class="card-body"
                    style="
                      padding-top: 2px;
                      padding-bottom: 0px;
                      background-color: rgb(239, 248, 243);
                    "
                  >
                    <div class="row">
                      <div class="col-md-6">
                        <ul class="list-unstyled">
                          <li style="font-weight: 500">
                            <u class="propName">VISITE</u>
                          </li>
                          <li></li>
                          <li>
                            CFA:
                            <span class="propName text-primary"
                              >{{ Vignettemontantvisite | number }} F</span
                            >
                          </li>
                          <li></li>
                          <li>
                            CAT:
                            <span class="propName">{{
                              Vignettecat | uppercase
                            }}</span>
                          </li>
                          <hr class="solid mb-1 mt-1" />
                          <li>
                            KMS: <span class="propName">{{ Vignettekms }}</span>
                          </li>
                          <li>
                            STAT:
                            <span class="propName">{{
                              Vignettestat | uppercase
                            }}</span>
                          </li>
                        </ul>
                      </div>
                      <div class="col-md-6">
                        <ul class="list-unstyled">
                          <li style="font-weight: 500">
                            <u class="propName">VIGNETTE</u>
                          </li>
                          <li></li>
                          <li>
                            CFA:
                            <span class="propName text-primary"
                              >{{ Vignettemontantvisite | number }} F</span
                            >
                          </li>
                          <li></li>
                          <li>Vignette N°:</li>
                          <li>
                            <span class="propName">{{
                              Vignettenumerovignette | uppercase
                            }}</span>
                          </li>
                          <hr class="solid mb-1 mt-1" />
                          <li>
                            Lieu:
                            <span class="propName">{{
                              Vignettelieu | uppercase
                            }}</span>
                          </li>
                          <li>
                            Date:
                            <span class="propName">{{
                              Vignettedatevisite | date : "dd/MM/yyyy"
                            }}</span>
                          </li>
                        </ul>
                      </div>
                      <div class="col-md-12">
                        <hr class="solid mb-1 mt-1" />
                      </div>

                      <div
                        class="col-md-12"
                        style="
                          text-align: center;
                          font-size: 18px;
                          font-weight: 500;
                          padding: 5px;
                        "
                      >
                        Expiration
                      </div>
                      <div
                        class="col-md-12 text-danger"
                        style="
                          text-align: center;
                          font-size: 18px;
                          font-weight: 500;
                          padding: 10px;
                        "
                      >
                        {{ Vignettedateexpiration | date : "dd/MM/yyyy" }}
                      </div>
                    </div>
                  </div>
                </section>
              </div>

              <div class="col-md-3">
                <section class="card card-info mb-4">
                  <header class="card-header" style="margin: 0px; padding: 0px">
                    <h3 class="card-title" style="margin: 2px; padding: 4px">
                      ASSURANCE
                    </h3>
                  </header>
                  <div
                    class="card-body"
                    style="
                      padding-top: 2px;
                      padding-bottom: 0px;
                      background-color: rgb(239, 248, 243);
                    "
                  >
                    <ul class="list-unstyled">
                      <li>Assureur</li>
                      <li></li>
                      <li class="propName text-primary">
                        {{ Assuranceassueur | uppercase }}
                      </li>
                      <li>
                        <hr class="solid mb-1 mt-1" />
                      </li>

                      <li>
                        Assuré:
                        <span class="propName">{{
                          Assuranceassure | uppercase
                        }}</span>
                      </li>

                      <hr class="solid mb-1 mt-1" />
                      <li>Police N°:</li>
                      <li>
                        <span class="propName text-primary">{{
                          Assurancenumpolice | uppercase
                        }}</span>
                      </li>
                    </ul>
                    <div class="col-md-12">
                      <hr class="solid mb-0 mt-1" />
                    </div>
                    <div class="row">
                      <div
                        class="col-md-6"
                        style="
                          text-align: center;
                          font-size: 18px;
                          font-weight: 500;
                          padding: 5px;
                        "
                      >
                        Date Début
                      </div>
                      <div
                        class="col-md-6"
                        style="
                          text-align: center;
                          font-size: 18px;
                          font-weight: 500;
                          padding: 5px;
                        "
                      >
                        Date Fin
                      </div>
                      <div
                        class="col-md-6 text-success"
                        style="
                          text-align: center;
                          font-size: 18px;
                          font-weight: 500;
                          padding: 5px;
                        "
                      >
                        {{ Assurancedatedebut | date : "dd/MM/yyyy" }}
                      </div>
                      <div
                        class="col-md-6 text-danger"
                        style="
                          text-align: center;
                          font-size: 18px;
                          font-weight: 500;
                          padding: 10px;
                        "
                      >
                        {{ Assurancedatefin | date : "dd/MM/yyyy" }}
                      </div>
                    </div>
                  </div>
                </section>
              </div>
            </div>
          </div>
        </section>

        <div class="row" [@simpleFadeAnimation]="'in'">
          <div class="col">
            <div class="tabs">
              <ul class="nav nav-tabs">
                <li class="nav-item">
                  <a
                    class="nav-link active"
                    id="usage-limits-tab"
                    data-toggle="pill"
                    href="#entretienVehicule"
                    role="tab"
                    aria-controls="entretienVehicule"
                    aria-selected="false"
                    ><i class="bx bxs-car-garage" aria-hidden="true"></i>
                    ENTRETIEN</a
                  >
                </li>

                <li class="nav-item">
                  <!--*ngIf="TabCarteGrise"-->
                  <a
                    class="nav-link"
                    id="PanneVehicule-tab"
                    data-toggle="pill"
                    href="#PanneVehicule"
                    role="tab"
                    aria-controls="PanneVehicule"
                    aria-selected="true"
                    ><i class="bx bxs-car-mechanic"></i> PANNE</a
                  >
                </li>
                <li class="nav-item">
                  <!-- *ngIf="TabMAssurance"-->
                  <a
                    class="nav-link"
                    id="Sinistre-tab"
                    data-toggle="pill"
                    href="#Sinistre"
                    role="tab"
                    aria-controls="Sinistre"
                    aria-selected="false"
                    ><i class="bx bxs-car-crash" aria-hidden="false"></i>
                    SINISTRE</a
                  >
                </li>
                <li class="nav-item">
                  <!--*ngIf="TabVisiteTech"-->
                  <a
                    class="nav-link"
                    id="usage-limits-tab"
                    data-toggle="pill"
                    href="#ReparationVehicule"
                    role="tab"
                    aria-controls="ReparationVehicule"
                    aria-selected="false"
                    ><i class="bx bxs-car" aria-hidden="true"></i> REPARATION</a
                  >
                </li>
                <!-- *ngIf="TabMAssurance"-->
                <!--li class="nav-item">
              
                  <a
                    class="nav-link"
                    id="Sinistre-tab"
                    data-toggle="pill"
                    href="#Carburant"
                    role="tab"
                    aria-controls="Carburant"
                    aria-selected="false"
                    ><i class="bx bxs-gas-pump" aria-hidden="false"></i>
                    CARBURANT</a
                  >
                </li-->

                <li class="nav-item">
                  <!-- *ngIf="TabMAssurance"-->
                  <a
                    class="nav-link"
                    id="Sinistre-tab"
                    data-toggle="pill"
                    href="#Kilometrage"
                    role="tab"
                    aria-controls="Kilometrage"
                    aria-selected="false"
                    ><i class="bx bxs-tachometer" aria-hidden="false"></i>
                    RELEVE KILOMETRIQUE</a
                  >
                </li>

                <li class="nav-item">
                  <!-- *ngIf="TabMAssurance"-->
                  <a
                    class="nav-link"
                    id="Sinistre-tab"
                    data-toggle="pill"
                    href="#Infraction"
                    role="tab"
                    aria-controls="Infraction"
                    aria-selected="false"
                    ><i class="bx bxs-camera-movie" aria-hidden="false"></i>
                    INFRACTION</a
                  >
                </li>
              </ul>
              <div class="tab-content">
                <div
                  class="tab-pane fade show active"
                  id="entretienVehicule"
                  role="tabpanel"
                  aria-labelledby="usage-limits-tab"
                >
             
                  <div class="row">
                    <div class="col-md-12 text-right">
                      
                      <button
                        type="button"
                        class="btn btn-success"
                        (click)="actionCloseEntretien(1)"
                        [ngClass]="{ hidden: ActionOpenEntretien }"
                      >
                        <i class="fa fa-plus mr-2"></i>AJOUTER UN ENTRETIEN
                      </button>
                      <div
                        class="d-flex align-items-center justify-content-between border-bottom pb-3"
                        [ngClass]="{ hidden: ActionCloseEntretien }"
                      >
                        <h3 class="m-0 d-flex text-danger font-weight-bold">
                          <div class="text-muted mr-2">
                            <!--i class="fas fa-car-crash"></i-->&nbsp;&nbsp;
                            ENTRETIEN .::.
                          </div>
                          De véhicule
                        </h3>
                        <button
                          type="button"
                          class="btn btn-danger"
                          (click)="actionCloseEntretien(0)"
                        >
                          <i class="fas fa-times mr-2"></i>FERMER
                        </button>
                      </div>
                    </div>
                  </div>

                  <div class="card-body" [ngClass]="{ hidden: hiddenEntretien }">
                    <!---->
                    <div>
                      <div>
                        <form
                          [formGroup]="vehiculeFormEntretien"
                          (ngSubmit)="
                            onSubmitFormEntretien(vehiculeFormEntretien.value)
                          "
                        >
                          <div class="row my-3 border rounded p-3 bg-light">
                            <!--ecommerce-form action-buttons-fixed-->
                            <input
                              type="text"
                              hidden
                              formControlName="lentretientID"
                              class="form-control form-control-modern"
                              id="inputPassword4"
                            />
                            <div class="col-md-3 inputSpace">
                              <label for="inputEmail4" class="form-label"
                                >Véhicule <span class="Oblig">*</span></label
                              >
                              <select
                                disabled
                                id="inputState"
                                class="form-control form-control-modern border-success"
                                name="stockStatus"
                              >
                                <option selected>
                                  [{{ imatriculation | uppercase }}] -
                                  {{ marque | uppercase }}
                                  {{ modele | uppercase }}
                                </option>
                              </select>
                            </div>
                            <div class="col-md-3 inputSpace">
                              <label for="inputEmail4" class="form-label"
                                >Type d'entretien
                                <span class="Oblig">*</span></label
                              >
                              <select
                                id="entretientype"
                                class="form-control"
                                formControlName="entretientype"
                                name="entretientype"
                                class="form-control form-control-modern"
                                name="entretientype"
                                (change)="
                                  changeTypeEntretien($event.target.value)
                                "
                              >
                                <option selected value="">-- Choisir --</option>
                                <option
                                  *ngFor="let item of listeTypeEntret.results"
                                  [value]="item.ID"
                                >
                                  {{ item.designation | uppercase }}
                                </option>
                              </select>
                              <small
                                class="text-danger"
                                style="font-weight: 800"
                                *ngIf="DateDernierentretien"
                                >Dernier entretien le :
                                {{
                                  DateDernierentretien | date : "dd/MM/yyyy"
                                }}</small
                              >
                            </div>
                            <div class="col-md-6 inputSpace">
                              <label for="inputEmail4" class="form-label"
                                >Garage <span class="Oblig">*</span></label
                              >
                              <select
                                id="entretienGarage"
                                class="form-control"
                                formControlName="entretienGarage"
                                name="entretienGarage"
                                class="form-control form-control-modern"
                                name="entretienGarage"
                              >
                                <option selected value="">-- Choisir --</option>
                                <option
                                  *ngFor="let gar of listeGaragiste.results"
                                  [value]="gar.ID"
                                >
                                  [{{ gar.designation | uppercase }}] ---
                                  Point Focal: {{ gar.pf_nomprenoms | uppercase }} / Contact: {{ gar.pf_portable | uppercase }} 
                                  
                                </option>
                              </select>
                            </div>
                            <!--div class="col-md-1 inputSpace">
                                        
                                        <button type="button" class="btn btn-dark btn-sm btn-px-4 py-3 align-items-center font-weight-semibold line-height-1" style="margin-top:22px;">
                                            <i class="fa fa-plus text-4 mr-2"></i></button>
                                      </div-->
                            <div class="col-md-3 inputSpace">
                              <label for="inputPassword4" class="form-label"
                                >Date d'envoi à l'entretien
                                <span class="Oblig">*</span></label
                              >
                              <input
                                type="date"
                                formControlName="entretienDateDepart"
                                class="form-control form-control-modern"
                                id="inputPassword4"
                              />
                            </div>

                            <div class="col-md-3 inputSpace">
                              <label for="inputPassword4" class="form-label"
                                >Kilométrage de depart<span class="Oblig"
                                  >*</span
                                ></label
                              >
                              <input
                                type="number"
                                formControlName="entretienkilometrageDepart"
                                class="form-control form-control-modern"
                                id="inputPassword4"
                              />
                            </div>

                            <div class="col-md-3 inputSpace">
                              <label for="inputPassword4" class="form-label"
                                >Date de retour prévue</label
                              >
                              <input
                                type="date"
                                formControlName="entretienDateRetour"
                                class="form-control form-control-modern"
                                id="inputPassword4"
                              />
                            </div>
                            <div class="col-md-3 inputSpace">
                              <label for="inputPassword4" class="form-label"
                                >Kilométrage de retour</label
                              >
                              <input
                                type="number"
                                formControlName="entretienkilometrageRetour"
                                class="form-control form-control-modern"
                                id="inputPassword4"
                              />
                            </div>

                            <div class="col-md-9 inputSpace">
                              <label for="inputPassword4" class="form-label"
                                >Raison d'entretien <span class="Oblig">*</span></label
                              >
                              <input
                                type="text"
                                formControlName="entretienlibelle"
                                class="form-control form-control-modern"
                                id="inputPassword4"
                              />
                            </div>

                            <div class="col-md-3 inputSpace">
                              <label for="inputPassword4" class="form-label"
                                >Montant <span class="Oblig">*</span></label
                              >
                              <div class="input-group border-success">
                                <input
                                  type="text"
                                  class="form-control"
                                  formControlName="entretienMontantRepar"
                                />
                                <div class="input-group-append">
                                  <span class="input-group-text">F CFA</span>
                                </div>
                              </div>
                            </div>

                            <div class="col-md-12 inputSpace">
                              <label for="inputPassword4" class="form-label"
                                >Description du type d'entretien</label
                              >
                              <textarea
                                id="story"
                                formControlName="entretienDescription"
                                name="story"
                                rows="2"
                                cols="33"
                                class="form-control form-control-modern"
                              >
                              </textarea>
                            </div>

                            <div class="col-md-4 inputSpace">
                              <label for="inputPassword4" class="form-label"
                                >Facture Proforma
                                <span class="text-danger">(PDF)</span></label
                              >
                              <input
                                type="file"
                                class="form-control form-control-modern"
                                (change)="onFileUploadFactureProforma($event)"
                                #entretienFacProforma
                              />
                              <div
                                *ngIf="entretienDocFacProforma"
                                style="padding: 5px; font-weight: 500"
                                class="bg-info"
                              >
                                <!---->
                                <a
                                  href="{{ entretienDocFacProforma }}"
                                  target="_blank"
                                  >CLIQUER POUR VOIR LE FICHIER JOINT</a
                                >
                                <input
                                  type="text"
                                  hidden
                                  formControlName="entretienFacProformaNew"
                                />
                              </div>
                            </div>

                            <div class="col-md-4 inputSpace">
                              <label for="inputPassword4" class="form-label"
                                >Bon de Commande
                                <span class="text-danger">(PDF)</span></label
                              >
                              <input
                                type="file"
                                class="form-control form-control-modern"
                                (change)="onFileUploadBondeCommande($event)"
                                #entretienBonCommande
                              />
                              <div
                                *ngIf="entretienDocBonCommande"
                                style="padding: 5px; font-weight: 500"
                                class="bg-info"
                              >
                                <!---->
                                <a
                                  href="{{ entretienDocBonCommande }}"
                                  target="_blank"
                                  >CLIQUER POUR VOIR LE FICHIER JOINT</a
                                >
                                <input
                                  type="text"
                                  hidden
                                  formControlName="entretienBonCommandeNew"
                                /><!---->
                              </div>
                            </div>

                            <div class="col-md-4 inputSpace">
                              <label for="inputPassword4" class="form-label"
                                >Facture
                                <span class="text-danger">(PDF)</span></label
                              >
                              <input
                                type="file"
                                class="form-control form-control-modern"
                                (change)="onFileUploadFacture($event)"
                                #entretienFacture
                              />
                              <div
                                *ngIf="entretienDocFacture"
                                style="padding: 5px; font-weight: 500"
                                class="bg-info"
                              >
                                <!---->
                                <a
                                  href="{{ entretienDocFacture }}"
                                  target="_blank"
                                  >CLIQUER POUR VOIR LE FICHIER JOINT</a
                                >
                                <input
                                  type="text"
                                  hidden
                                  formControlName="entretienFactureNew"
                                /><!---->
                              </div>
                            </div>
                          </div>
                          <div
                            class="col-12 col-md-12 text-center"
                            *ngIf="hiddenTabEntretienSave"
                          >
                            <button
                              style="margin-right: 10px"
                              type="submit"
                              class="submit-button btn btn-success btn-px-4 py-3 align-items-center font-weight-semibold line-height-1"
                              data-loading-text="Loading..."
                              [disabled]="vehiculeFormEntretien.invalid"
                            >
                              <i class="fas fa-save text-4 mr-1"></i> Enregister
                            </button>

                            <span
                              class="submit-button btn btn-danger btn-px-4 py-3 align-items-center font-weight-semibold line-height-1"
                              (click)="actionCloseEntretien(0)"
                            >
                              <i class="fas fa-times text-4 mr-1"></i> Quitter
                            </span>
                          </div>
                        </form>
                      </div>
                    </div>

                    <div class="card-body" *ngIf="hiddenTabEntretein">
                      <form
                        [formGroup]="vehiculeFormDetailEntretient"
                        (ngSubmit)="
                          onSubmitFormDetailEntretein(
                            vehiculeFormDetailEntretient.value
                          )
                        "
                      >
                        <div class="bg-dark py-2 px-3 rounded">
                          <h3 class="m-0 d-flex text-warning">
                            <div class="text-muted mr-2">
                              <i class="fa fa-list "></i>&nbsp;&nbsp; ENTRETIEN
                              .::.
                            </div>
                            Détails des travaux éffectués
                          </h3>
                        </div>

                        <div class="my-3 border rounded p-3">
                          <p class="text-danger">
                            ::. Cliquez sur le bouton
                            <strong>Ajouter</strong> pour ajouter le détail de
                            l'entretien au tableau .::
                          </p>
                          <table class="w-100 mb-3">
                            <input
                              type="text"
                              hidden
                              formControlName="lentretientDetailID"
                              class="form-control form-control-modern"
                              id="inputPassword4"
                            />
                            <tr>
                              <td class="p-2">
                                <select
                                  id="entretienDetailTraveauEffec"
                                  class="form-control"
                                  formControlName="entretienDetailTraveauEffec"
                                  name="entretienDetailTraveauEffec"
                                >
                                  <option selected value="">
                                    ---- Choisir détail ----
                                  </option>
                                  <option
                                    selected
                                    *ngFor="let det of listeDetailEntret"
                                    [value]="det.ID"
                                  >
                                    {{ det.designation | uppercase }}
                                  </option>
                                </select>
                              </td>
                              <td class="p-2">
                                <input
                                  type="number"
                                  formControlName="entretienDetailTraveauQuant"
                                  class="form-control"
                                  placeholder="Quantité"
                                />
                              </td>
                              <td class="p-2">
                                <input
                                  type="number"
                                  formControlName="entretienDetailTraveauPrix"
                                  class="form-control"
                                  placeholder="Montant"
                                />
                              </td>
                              <td class="p-2">
                                <textarea
                                  rows="1"
                                  class="form-control"
                                  placeholder="Observation"
                                  formControlName="entretienDetailTraveauObserv"
                                ></textarea>
                              </td>
                              <td align="center" class="p-2">
                                <button
                                  class="btn btn-success w-100"
                                  type="submit"
                                  [disabled]="
                                    vehiculeFormDetailEntretient.invalid
                                  "
                                >
                                  <i class="fas fa-plus-square"></i>
                                  Ajouter
                                </button>
                              </td>
                            </tr>
                          </table>

                          <div class="col-md-12">
                            <table
                              mat-table
                              [dataSource]="dataSourceEntretienDetail"
                              class="table-responsive-md table-striped mb-0"
                            >
                              <!-- Position Column -->
                              <ng-container matColumnDef="numberDet">
                                <th
                                  mat-header-cell
                                  *matHeaderCellDef
                                  class="bg-info"
                                >
                                  #
                                </th>
                                <td
                                  mat-cell
                                  *matCellDef="let element; let i = index"
                                >
                                  {{ i + 1 }}
                                </td>
                              </ng-container>

                              <!-- Position Column -->
                              <ng-container
                                matColumnDef="entretienDetailDesignation"
                              >
                                <th
                                  mat-header-cell
                                  *matHeaderCellDef
                                  class="bg-info"
                                >
                                  Designation
                                </th>
                                <td mat-cell *matCellDef="let element">
                                  {{ element.designation | uppercase }}
                                </td>
                              </ng-container>

                              <ng-container
                                matColumnDef="entretienDetailQuantite"
                              >
                                <th
                                  mat-header-cell
                                  *matHeaderCellDef
                                  class="bg-info"
                                >
                                  Quantité
                                </th>
                                <td mat-cell *matCellDef="let element">
                                  {{ element.entretienDetailQuantite }}
                                </td>
                              </ng-container>

                              <!-- Position Column -->
                              <ng-container
                                matColumnDef="entretienDetailPrixUnit"
                              >
                                <th
                                  mat-header-cell
                                  *matHeaderCellDef
                                  class="bg-info"
                                >
                                  Prix Unitaire
                                </th>
                                <td mat-cell *matCellDef="let element">
                                  {{ element.entretienDetailPrixUnit }}
                                </td>
                              </ng-container>

                              <!-- Name Column -->
                              <ng-container
                                matColumnDef="entretienDetailPrixTotal"
                              >
                                <th
                                  mat-header-cell
                                  *matHeaderCellDef
                                  class="bg-info"
                                >
                                  Total
                                </th>
                                <td mat-cell *matCellDef="let element">
                                  {{
                                    element.entretienDetailQuantite *
                                      element.entretienDetailPrixUnit
                                  }}
                                </td>
                              </ng-container>

                              <!-- Name Column -->
                              <ng-container
                                matColumnDef="entretienDetailTraveauObserve"
                              >
                                <th
                                  mat-header-cell
                                  *matHeaderCellDef
                                  class="bg-info"
                                >
                                  Observation
                                </th>
                                <td mat-cell *matCellDef="let element">
                                  {{ element.entretienDetailTraveauObserv }}
                                </td>
                              </ng-container>

                              <!-- Symbol Column -->
                              <ng-container
                                matColumnDef="actioneEntretienDetail"
                              >
                                <th
                                  mat-header-cell
                                  *matHeaderCellDef
                                  class="bg-info"
                                >
                                  Actions
                                </th>
                                <td mat-cell *matCellDef="let element">
                                  <!--button type="button" class="btn btn-info btn-sm mr-2">
                                                         <i class="bx bx-money" aria-hidden="true"></i> Dépense
                                                     </button>
                                                     <button type="button" class="btn btn-secondary btn-sm mr-2">
                                                         <i class="bx bxs-edit" aria-hidden="true"></i> Modifier
                                                     </button-->
                                  <button
                                    type="button"
                                    data-toggle="modal"
                                    data-target="#modal-info"
                                    class="btn btn-danger btn-sm"
                                    (click)="
                                      ItemSupprimeDetailEntretien(
                                        element.IDDetEntre,
                                        'entretienDetail',
                                        element.entretienID
                                      )
                                    "
                                  >
                                    <i class="bx bxs-trash"></i> Sup
                                  </button>
                                  <!--button type="button" class="btn btn-primary btn-sm">Small button</button>
                                                     <button type="button" class="btn btn-primary btn-sm">Small button</button-->
                                </td>
                              </ng-container>

                              <tr
                                mat-header-row
                                *matHeaderRowDef="
                                  displayedColumnsEntretienDetail
                                "
                              ></tr>
                              <tr
                                mat-row
                                *matRowDef="
                                  let row;
                                  columns: displayedColumnsEntretienDetail
                                "
                              ></tr>
                            </table>

                            <mat-paginator
                              [pageSizeOptions]="[10, 20, 30]"
                              showFirstLastButtons
                              aria-label="Select page of periodic elements"
                            >
                            </mat-paginator>
                          </div>

                        </div>
                      </form>
                    </div>
                    <div [ngClass]="{ hidden: hiddenListeProgramable }">
                      <!-- *ngIf="hiddenTabEntretein"-->

                      <div class="bg-warning py-2 px-3 rounded">
                        <h3 class="m-0 d-flex text-dark">
                          <div class="text-dark mr-2">
                            <i class="fa fa-list"></i>&nbsp;&nbsp; ENTRETIEN
                            .::.
                          </div>
                          Programmer un entretien
                        </h3>
                      </div>
                      <form
                        [formGroup]="vehiculeFormProgrammeEntreien"
                        (ngSubmit)="
                          onSubmitFormEntreteinProgramme(
                            vehiculeFormProgrammeEntreien.value
                          )
                        "
                      >
                        <div class="my-3 border rounded p-3">
                          <input
                            type="text"
                            hidden
                            formControlName="lentretientProgrammeID"
                            class="form-control form-control-modern"
                          />
                          <input
                            type="text"
                            hidden
                            formControlName="programmeentretientype"
                            class="form-control form-control-modern"
                          /><!--hidden-->
                          <table class="w-100 mb-3">
                            <tr>
                              <td class="p-2">
                                <div class="form-group">
                                  <label class="form-label"
                                    >Date de programmation l'entretien
                                    <span class="text-danger">*</span></label
                                  >
                                  <input
                                    type="date"
                                    formControlName="programmeDate"
                                    class="form-control"
                                  />
                                </div>
                              </td>
                              <td class="p-2">
                                <div class="form-group">
                                  <label class="form-label"
                                    >Rappel nombre de jour(s)
                                    <span class="text-danger">*</span></label
                                  >
                                  <div class="input-group w-100 border-success">
                                    <input
                                      type="number"
                                      class="form-control"
                                      value="1"
                                      min="1"
                                      formControlName="programmeRappel"
                                    />
                                    <div class="input-group-append">
                                      <span class="input-group-text"
                                        >Jour(s)</span
                                      >
                                    </div>
                                  </div>
                                </div>
                              </td>
                              <td class="p-2">
                                <div class="form-group">
                                  <label class="form-label"
                                    >Rappel Kilométrage</label
                                  >
                                  <input
                                    type="number"
                                    class="form-control"
                                    value="1"
                                    min="1"
                                    formControlName="programmeRappelKilo"
                                  />
                                </div>
                              </td>
                              <td align="center" class="p-2">
                                <button
                                  class="btn btn-success w-100 mt-4"
                                  [disabled]="
                                    vehiculeFormProgrammeEntreien.invalid
                                  "
                                  type="submit"
                                >
                                  <i class="fas fa-plus"></i>
                                  Ajouter
                                </button>
                              </td>
                            </tr>
                          </table>

                          <div class="col-md-12">
                            <table
                              mat-table
                              [dataSource]="dataSourceEntretienProgrammeDetail"
                              class="table-responsive-md table-striped mb-0"
                            >
                              <ng-container matColumnDef="numberDet">
                                <th
                                  mat-header-cell
                                  *matHeaderCellDef
                                  class="bg-gradient-info"
                                >
                                  #
                                </th>
                                <td
                                  mat-cell
                                  *matCellDef="let element; let i = index"
                                >
                                  {{ i + 1 }}
                                </td>
                              </ng-container>
                              <ng-container matColumnDef="programmeDate">
                                <th
                                  mat-header-cell
                                  *matHeaderCellDef
                                  class="bg-gradient-info"
                                >
                                  Date
                                </th>
                                <td mat-cell *matCellDef="let element">
                                  {{
                                    element.entretiendate | date : "dd/MM/yyyy"
                                  }}
                                </td>
                              </ng-container>
                              <ng-container matColumnDef="entretienParametre">
                                <th
                                  mat-header-cell
                                  *matHeaderCellDef
                                  class="bg-gradient-info"
                                >
                                  Entretiens paramétrés
                                </th>
                                <td mat-cell *matCellDef="let element">
                                  {{ element.designation | uppercase }}
                                </td>
                              </ng-container>
                              <ng-container matColumnDef="Repetertous">
                                <th
                                  mat-header-cell
                                  *matHeaderCellDef
                                  class="bg-gradient-info"
                                >
                                  Rappel
                                </th>
                                <td mat-cell *matCellDef="let element">
                                  {{ element.entretienrappel }} Jour(s)
                                </td>
                              </ng-container>
                              <ng-container matColumnDef="entretienrappelKilo">
                                <th
                                  mat-header-cell
                                  *matHeaderCellDef
                                  class="bg-gradient-info"
                                >
                                  Ou Kilométrage
                                </th>
                                <td mat-cell *matCellDef="let element">
                                  {{ element.entretienrappelKilo }} KM
                                </td>
                              </ng-container>

                              <ng-container matColumnDef="actioneProgram">
                                <th
                                  mat-header-cell
                                  *matHeaderCellDef
                                  class="bg-gradient-info"
                                >
                                  Actions
                                </th>
                                <td mat-cell *matCellDef="let element">
                                  <span
                                    data-toggle="modal"
                                    data-target="#modal-info"
                                    class="btn btn-danger btn-sm"
                                    (click)="
                                      ItemSupprimeEntretienProgramm(
                                        element.entretienProgramID,
                                        'entretienprogramm'
                                      )
                                    "
                                  >
                                    <i class="bx bxs-trash"></i> Sup
                                  </span>
                                </td>
                              </ng-container>

                              <tr
                                mat-header-row
                                *matHeaderRowDef="
                                  displayedColumnsEntretienProgrammeDetail
                                "
                              ></tr>
                              <tr
                                mat-row
                                *matRowDef="
                                  let row;
                                  columns: displayedColumnsEntretienProgrammeDetail
                                "
                              ></tr>
                            </table>

                            <mat-paginator
                              [pageSizeOptions]="[10, 20, 30]"
                              showFirstLastButtons
                              aria-label="Select page of periodic elements"
                            >
                            </mat-paginator>
                          </div>

                          <div class="col-12 col-md-12 text-center">
                            <span
                              class="submit-button btn btn-danger btn-px-4 py-3 align-items-center font-weight-semibold line-height-1"
                              (click)="actionCloseEntretien(0)"
                            >
                              <i class="fa fa-times text-4 mr-1"></i> Quitter
                            </span>
                          </div>
                        </div>
                      </form>
                    </div>
                  </div>
                  <section class="card"
                    [ngClass]="{ hidden: hiddenListeEntretien }"
                  >

                    <div class="spinner4" *ngIf="isLoadingResultsEntretient">
                      <div class="bounce1"></div>
                      <div class="bounce2"></div>
                      <div class="bounce3"></div>
                    </div>

                    <mat-form-field>
                      <mat-label>Rechercher un entretien</mat-label>
                      <input
                        matInput
                        (keyup)="applyFilter($event)"
                        placeholder="Immatriculation , modèle , direction ..."
                        #input
                      />
                    </mat-form-field>

                    <table
                      mat-table
                      [dataSource]="dataSourceEntretien"
                      class="table-responsive-md table-striped mb-0"
                    >
                      <!-- Position Column -->
                      <ng-container matColumnDef="number" style="width: 20px">
                        <th mat-header-cell *matHeaderCellDef>#</th>
                        <td mat-cell *matCellDef="let element; let i = index">
                          {{ i + 1 }}
                        </td>
                      </ng-container>

                      <!-- Name Column -->
                      <ng-container
                        matColumnDef="datesaisie"
                        style="width: 50px"
                      >
                        <th mat-header-cell *matHeaderCellDef>Date</th>
                        <td mat-cell *matCellDef="let element">
                          {{ element.datesaisie | date : "dd/MM/yyyy" }}
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="typeentretienLib">
                        <th mat-header-cell *matHeaderCellDef>
                          Type d'entretien
                        </th>
                        <td mat-cell *matCellDef="let element">
                          {{ element.typeentretienLib | uppercase }}
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="entretienlibelle">
                        <th mat-header-cell *matHeaderCellDef>Libellé</th>
                        <td mat-cell *matCellDef="let element">
                          {{ element.entretienlibelle | uppercase }}
                        </td>
                      </ng-container>
                      <!-- Weight Column 
                      <ng-container matColumnDef="weight">
                        <th mat-header-cell *matHeaderCellDef>Coût FCFA</th>
                        <td mat-cell *matCellDef="let element">
                          {{ element.weight }}
                        </td>
                      </ng-container>-->

                      <!-- Symbol Column 
                      <ng-container matColumnDef="garageLib">
                        <th mat-header-cell *matHeaderCellDef>Garagiste</th>
                        <td mat-cell *matCellDef="let element">
                          {{ element.garageLib | uppercase }}
                        </td>
                      </ng-container>-->

                      <!-- Symbol Column 
     <ng-container matColumnDef="etat">
        <th mat-header-cell *matHeaderCellDef> Etat </th>
        <td mat-cell *matCellDef="let element"> 
            <span *ngIf="element.etat=='Parc'" class="badge badge-pill badge-success text-1">{{element.etat}}</span>
            <span *ngIf="element.etat!='Parc'"class="badge badge-pill badge-danger text-1">{{element.etat}}</span>
           </td>
      </ng-container>-->

                      <!-- Symbol Column -->
                      <ng-container
                        matColumnDef="actionEntretien"
                        style="width: 50px"
                      >
                        <th mat-header-cell *matHeaderCellDef>Actions</th>
                        <td mat-cell *matCellDef="let element">
                          <!--button type="button" class="btn btn-info btn-sm mr-2">
                  <i class="bx bx-money" aria-hidden="true"></i> Dépense
              </button-->
                          <button
                            type="button"
                            class="btn btn-secondary btn-sm mr-2"
                            (click)="loadOneEntretien(element.ID)"
                          >
                            <i class="bx bxs-edit" aria-hidden="true"></i>
                            Modifier
                          </button>

                          <span
                            data-toggle="modal"
                            data-target="#modal-info"
                            class="btn btn-danger btn-sm"
                            (click)="
                              ItemSupprimeEntretien(element.ID, 'entretien')
                            "
                          >
                            <i class="bx bxs-trash"></i> Sup
                          </span>
                        </td>
                      </ng-container>

                      <tr
                        mat-header-row
                        *matHeaderRowDef="displayedColumnsEntretien"
                      ></tr>
                      <tr
                        mat-row
                        *matRowDef="let row; columns: displayedColumnsEntretien"
                      ></tr>
                    </table>

                    <mat-paginator
                      [pageSizeOptions]="[10, 20, 30]"
                      showFirstLastButtons
                      aria-label="Select page of periodic elements"
                    >
                    </mat-paginator>
                  </section>
                  <!------FIN-------->
                </div>

                <div
                  class="tab-pane fade"
                  id="PanneVehicule"
                  role="tabpanel"
                  aria-labelledby="PanneVehicule-tab"
                >
                  <!--*ngIf="TabCarteGrise"-->
                  <div class="row">
                    <div class="col-md-12 text-right">
                      <button
                        type="button"
                        class="btn btn-success"
                        (click)="actionClosePanne(1)"
                        [ngClass]="{ hidden: ActionOpenPanne }"
                      >
                        <i class="fa fa-plus mr-2"></i>AJOUTER UNE PANNE
                      </button>
                      <div
                        class="d-flex align-items-center justify-content-between border-bottom pb-3"
                        [ngClass]="{ hidden: ActionClosePanne }"
                      >
                        <h3 class="m-0 d-flex text-danger font-weight-bold">
                          <div class="text-muted mr-2">
                            <i class="fas fa-car"></i>&nbsp;&nbsp; PANNE .::.
                          </div>
                          Déclaration d'une panne
                        </h3>
                        <button
                          type="button"
                          class="btn btn-danger"
                          (click)="actionClosePanne(0)"
                        >
                          <i class="fas fa-times mr-2"></i>FERMER
                        </button>
                      </div>
                    </div>
                  </div>
                  <div class="card-body" [ngClass]="{ hidden: hiddenPanne }">
                    
                    <form
                      [formGroup]="vehiculeFormPanne"
                      (ngSubmit)="onSubmitFormPanne(vehiculeFormPanne.value)">
                    <div class="row my-3 border rounded p-3 bg-light">
                      <div class="col-md-2 inputSpace" hidden>
                        <input
                          type="text"
                          class="form-control form-control-modern"
                          id="panneDate"
                          formControlName="LpanneID"
                        />
                      </div>

                      <div class="col-md-3 inputSpace">
                        <label for="inputEmail4" class="form-label"
                          >Véhicule</label
                        >
                        <select
                          disabled
                          id="inputState"
                          class="form-control form-control-modern border-success"
                          name="stockStatus"
                        >
                          <option selected>
                            [{{ imatriculation | uppercase }}] -
                            {{ marque | uppercase }} {{ modele | uppercase }}
                          </option>
                        </select>
                      </div>
                      <div class="col-md-2 inputSpace">
                        <label for="inputEmail4" class="form-label"
                          >Date <span class="Oblig">*</span></label
                        >
                        <input
                          type="date"
                          class="form-control form-control-modern"
                          id="panneDate"
                          formControlName="panneDate"
                        />
                      </div>

                      <div class="col-md-5 inputSpace">
                        <label for="inputEmail4" class="form-label"
                          >Libellé de la panne <span class="Oblig">*</span>
                        </label>

                        <input
                          type="text"
                          class="form-control form-control-modern"
                          id="panneLibelle"
                          formControlName="panneLibelle"
                        />
                      </div>

                      <div class="col-md-2 inputSpace">
                        <label for="inputEmail4" class="form-label"
                          >Kilométrage <span class="Oblig">*</span></label
                        >
                        <input
                          type="number"
                          class="form-control form-control-modern"
                          id="pannekilometrage"
                          formControlName="panneKilometrage"
                        />
                      </div>

                      <div class="col-md-9 inputSpace">
                        <label for="inputEmail4" class="form-label"
                          >Description de la panne
                        </label>
                        <textarea
                          rows="1"
                          class="form-control form-control-modern"
                          id="panneDescription"
                          formControlName="panneDescription"
                        >
                        </textarea>
                      </div>

                      <div class="col-md-3 inputSpace">
                        <label for="inputEmail4" class="form-label"
                          >Statut Véhicule <span class="Oblig">*</span></label
                        >
                        <div class="form-check">
                          <input
                            class="form-check-input"
                            type="radio"
                            name="panneStatut"
                            id="panneStatut1"
                            formControlName="panneStatut"
                            value="En ciruclation"
                            checked
                          />
                          <label class="form-check-label" for="exampleRadios1"
                            >En circulation
                          </label>
                        </div>
                        <div class="form-check">
                          <input
                            class="form-check-input"
                            type="radio"
                            name="panneStatut"
                            id="panneStatut2"
                            formControlName="panneStatut"
                            value="Immobilisé"
                          />
                          <label class="form-check-label" for="exampleRadios2">
                            Immobilisé
                          </label>
                        </div>
                      </div>

                      <div class="col-12 col-md-12 text-center">
                        <button
                          [disabled]="vehiculeFormPanne.invalid"
                          style="margin-right: 10px"
                          type="submit"
                          class="submit-button btn btn-success btn-px-4 py-3 align-items-center font-weight-semibold line-height-1"
                          data-loading-text="Loading..."
                        >
                          <i class="bx bx-save text-4 mr-1"></i> Enregister
                        </button>

                        <span
                          class="submit-button btn btn-danger btn-px-4 py-3 align-items-center font-weight-semibold line-height-1"
                          (click)="actionClosePanne(0)"
                        >
                          <i class="fa fa-times text-4 mr-1"></i> Quitter
                        </span>
                      </div>
                    </div>
                    </form>
                 </div>
                   <section class="card" [ngClass]="{ hidden: hiddenListePanne }">
                    <mat-form-field class="mt-1">
                      <mat-label>Rechercher</mat-label>
                      <input
                        matInput
                        (keyup)="applyFilter($event)"
                        placeholder="Immatriculation , modèle , direction ..."
                        #input
                      />
                    </mat-form-field>
                      
                  
                      <table
                        mat-table
                        [dataSource]="dataSourcePanne"
                        class="table-responsive-md table-striped mb-0"
                      >
                        <ng-container matColumnDef="number">
                          <th mat-header-cell *matHeaderCellDef class="bgRepar">
                            #
                          </th>
                          <td
                            *matCellDef="let vehicule; let i = index"
                            class="text-center"
                          >
                            {{ i + 1 }}
                          </td>
                        </ng-container>

                        <!-- Name Column -->
                        <ng-container matColumnDef="panneDate">
                          <th mat-header-cell *matHeaderCellDef class="bgRepar">
                            Date
                          </th>
                          <td mat-cell *matCellDef="let element">
                            {{ element.panneDate | date : "dd/MM/yyyy" }}
                          </td>
                        </ng-container>

                        <!-- Weight Column -->
                        <ng-container matColumnDef="panneLibelle">
                          <th mat-header-cell *matHeaderCellDef class="bgRepar">
                            Libellé de la panne
                          </th>
                          <td mat-cell *matCellDef="let element">
                            {{ element.panneLibelle | uppercase }}
                          </td>
                        </ng-container>

                        <!-- Symbol Column -->
                        <ng-container matColumnDef="panneKilometrage">
                          <th mat-header-cell *matHeaderCellDef class="bgRepar">
                            Kilometrage
                          </th>
                          <td mat-cell *matCellDef="let element">
                            {{ element.panneKilometrage }} Km
                          </td>
                        </ng-container>

                        <ng-container matColumnDef="StatutKilometrage">
                          <th mat-header-cell *matHeaderCellDef class="bgRepar">
                            Statut
                          </th>
                          <td mat-cell *matCellDef="let element">
                            {{ element.panneStatut | uppercase }}
                          </td>
                        </ng-container>

                        <!-- Symbol Column -->
                        <ng-container matColumnDef="actionPanne">
                          <th mat-header-cell *matHeaderCellDef class="bgRepar">
                            Actions
                          </th>
                          <td mat-cell *matCellDef="let element">
                            <!--button type="button" class="btn btn-info btn-sm mr-2">
                                          <i class="bx bx-money" aria-hidden="true"></i> Dépense
                                      </button-->

                            <!--a routerLink="/gestion/pannesreparations/create-reparation"  class="btn btn-success btn-sm mr-2">
                                          <i class="bx bxs-car"></i> Réparer</a-->
                            <button
                              type="button"
                              class="btn btn-secondary btn-sm mr-2"
                              (click)="loadOnePanne(element.ID)"
                            >
                              <i class="bx bxs-edit" aria-hidden="true"></i>
                              Modifier
                            </button>

                            <span
                              type="button"
                              data-toggle="modal"
                              data-target="#modal-info"
                              class="btn btn-danger btn-sm"
                              (click)="ItemSupprime(element.ID, 'panne')"
                            >
                              <i class="bx bxs-trash"></i> Sup
                            </span>

                            <!--button type="button" class="btn btn-primary btn-sm">Small button</button-->
                          </td>
                        </ng-container>

                        <tr
                          mat-header-row
                          *matHeaderRowDef="displayedColumnsPanne"
                        ></tr>
                        <tr
                          mat-row
                          *matRowDef="let row; columns: displayedColumnsPanne"
                        ></tr>
                      </table>

                      <mat-paginator
                        [pageSizeOptions]="[10, 20, 30]"
                        showFirstLastButtons
                        aria-label="Select page of periodic elements"
                      >
                      </mat-paginator>
                     
                    </section>
                
                </div>

                <div
                  class="tab-pane fade"
                  id="ReparationVehicule"
                  role="tabpanel"
                  aria-labelledby="ReparationVehicule-tab"
                >

               

                  <div class="row">
                    <div class="col-md-12 text-right">
                      <button
                        type="button"
                        class="btn btn-success"
                        (click)="actionCloseReparation(1)"
                        [ngClass]="{ hidden: ActionOpenReparation }"
                      >
                        <i class="fa fa-plus mr-2"></i>AJOUTER UNE REPARATION
                      </button>

                      <div
                      class="d-flex align-items-center justify-content-between border-bottom pb-3"
                     [ngClass]="{ hidden: ActionCloseReparation }"
                    >
                    <h3 class="m-0 d-flex text-danger font-weight-bold">
                      <div class="text-muted mr-2">
                        <i class="fas fa-car"></i>&nbsp;&nbsp; REPARATION .::.
                      </div>
                      Informations sur la répartition
                    </h3>
                      <button
                        type="button"
                        class="btn btn-danger"
                        (click)="actionCloseReparation(0)"
                        [ngClass]="{ hidden: ActionCloseReparation }"
                      >
                        <i class="fas fa-times mr-2"></i>FERMER
                      </button>
                    </div>
                  </div> 
                  </div>
                
             
                    <div class="card-body" [ngClass]="{ hidden: hiddenReparation }">
                      <form  [formGroup]="vehiculeFormReparation" 
                        (ngSubmit)="
                          onSubmitFormReparation(vehiculeFormReparation.value)">
                          <div class="row my-3 border rounded p-3 bg-light">
                        <div hidden class="col-md-2 inputSpace">
                          <!---->
                          <input
                            type="text"
                            class="form-control form-control-modern"
                            id="panneDate"
                            formControlName="LreparationID"
                          />
                        </div>
                        <div class="col-md-3 inputSpace">
                          <label for="inputEmail4" class="form-label"
                            >Véhicule</label
                          >
                          <select
                            disabled
                            id="inputState"
                            class="form-control form-control-modern border-success"
                            name="stockStatus"
                          >
                            <option selected>
                              [{{ imatriculation | uppercase }}] -
                              {{ marque | uppercase }} {{ modele | uppercase }}
                            </option>
                          </select>
                        </div>
                        <div class="col-md-4 inputSpace">
                          <label for="inputEmail4" class="form-label"
                            >Panne ou Sinistre
                            <span class="Oblig">*</span></label
                          >

                          <select
                            id="panneAndSinistre"
                            class="form-control"
                            formControlName="reparationpanneOrSinistreID"
                            name="panneAndSinistre"
                            class="form-control form-control-modern"
                            name="stockStatus"
                           
                          ><!-- (click)="listSinistreaReparer()"-->
                            <option selected value="">-- Choisir --</option>
                            <option
                              *ngFor="let pan of listePannesareparer"
                              [value]="pan.ID"
                            >
                              [PANNE] - {{ pan.panneLibelle | uppercase }}
                            </option>
                            <option value="">--------------</option>
                            <option
                              *ngFor="let sin of listeSinistreareparer"
                              [value]="sin.ID"
                            >
                              [SINISTRE] - {{ sin.sinistreLieu | uppercase }}
                            </option>
                          </select>
                        </div>

                        <div class="col-md-5 inputSpace">
                          <label for="inputEmail4" class="form-label"
                            >Garagiste <span class="Oblig">*</span></label
                          >
                          <select
                            id="inputState"
                            class="form-control form-control-modern"
                            name="stockStatus"
                            formControlName="reparationGaragisteID"
                          >
                            <option selected value="">-- Choisir --</option>
                            <option
                              *ngFor="let gar of listeGaragiste.results"
                              [value]="gar.ID"
                            >
                            [{{ gar.designation | uppercase }}] ---
                            Point Focal: {{ gar.pf_nomprenoms | uppercase }} / Contact: {{ gar.pf_portable | uppercase }} 
                            </option>
                          </select>
                        </div>
                        <!--div class="col-md-1 inputSpace">
                          <button
                            type="button"
                            class="btn btn-dark btn-sm btn-px-4 py-3 align-items-center font-weight-semibold line-height-1"
                            style="margin-top: 22px"
                          >
                            <i class="fa fa-plus text-4 mr-2"></i>
                          </button>
                        </div-->
                        <div class="col-md-3 inputSpace">
                          <label for="inputPassword4" class="form-label"
                            >Date d'envoi en réparation.
                            <span class="Oblig">*</span></label
                          >
                          <input
                            type="date"
                            class="form-control form-control-modern"
                            id="reparationDate"
                            formControlName="reparationDate"
                          />
                        </div>
                        <div class="col-md-7 inputSpace">
                          <label for="inputPassword4" class="form-label"
                            >Libellé (Object)
                            <span class="Oblig">*</span></label
                          >
                          <input
                            type="text"
                            class="form-control form-control-modern"
                            id="inputPassword4"
                            formControlName="reparationLibelle"
                          />
                        </div>
                        <div class="col-md-2 inputSpace">
                          <label for="inputEmail4" class="form-label"
                            >Kilométrage <span class="Oblig">*</span></label
                          >
                          <input
                            type="number"
                            class="form-control form-control-modern"
                            id="inputPassword4"
                            formControlName="reparationKilometrage"
                          />
                        </div>
                        <div class="col-12">
                          <hr />
                        </div>
                        <div class="col-md-3 inputSpace">
                          <label for="inputPassword4" class="form-label"
                            >Date de retour réparation.</label
                          >
                          <input
                            type="date"
                            class="form-control form-control-modern bg-light border-info"
                            id="reparationDateRetour"
                            formControlName="reparationDateRetour"
                          />
                        </div>

                        <div class="col-md-3 inputSpace">
                          <label for="inputPassword4" class="form-label"
                            >Kilométrage de retour.</label
                          >
                          <input
                            type="number"
                            class="form-control form-control-modern bg-light border-info"
                            id="reparationKmRetour"
                            formControlName="reparationKmRetour"
                          />
                        </div>

                        <div class="col-md-6 inputSpace">
                          <label for="inputPassword4" class="form-label"
                            >Montant.</label
                          >
                          <input
                            type="number"
                            class="form-control form-control-modern bg-light border-info"
                            id="reparationMontant"
                            formControlName="reparationMontant"
                          />
                        </div>
                        <div class="col-12">
                          <hr />
                        </div>
                        <div class="col-md-8 inputSpace">
                          <label for="inputPassword4" class="form-label"
                            >Description</label
                          >
                          <textarea
                            id="story"
                            name="story"
                            rows="2"
                            cols="33"
                            class="form-control form-control-modern"
                            formControlName="reparationDescription"
                          >
                          </textarea>
                        </div>

                        <div class="col-md-3 inputSpace">
                          <label for="inputEmail4" class="form-label"
                            >Statut Réparation
                            <span class="Oblig">*</span></label
                          >
                          <div class="form-check">
                            <input
                              class="form-check-input"
                              type="radio"
                              name="reparationStatut"
                              id="reparationStatut1"
                              formControlName="reparationStatut"
                              value="En cours"
                              checked
                            />
                            <label class="form-check-label" for="exampleRadios1"
                              >En cours
                            </label>
                          </div>
                          <div class="form-check">
                            <input
                              class="form-check-input"
                              type="radio"
                              name="reparationStatut"
                              id="reparationStatut2"
                              formControlName="reparationStatut"
                              value="Terminé"
                            />
                            <label
                              class="form-check-label"
                              for="exampleRadios2"
                            >
                              Terminé
                            </label>
                          </div>
                        </div>

                        <div class="col-md-4 inputSpace">
                          <label for="inputPassword4" class="form-label"
                            >Facture Proforma
                            <span class="text-danger">(PDF)</span></label
                          >
                          <input
                            type="file"
                            class="form-control form-control-modern"
                            (change)="onFileUploadFactureProforma($event)"
                            #selectreparationFactureProforma
                          />
                          <div
                            *ngIf="reparationFactureProforma"
                            style="padding: 5px; font-weight: 500"
                            class="bg-info"
                          >
                            <!---->
                            <a
                              href="{{ reparationFactureProforma }}"
                              target="_blank"
                              >CLIQUER POUR VOIR LE FICHIER JOINT</a
                            >
                            <input
                              type="text"
                              hidden
                              formControlName="reparationFactureProformaModifNew"
                            />
                          </div>
                        </div>

                        <div class="col-md-4 inputSpace">
                          <label for="inputPassword4" class="form-label"
                            >Bon de Commande
                            <span class="text-danger">(PDF)</span></label
                          >
                          <input
                            type="file"
                            class="form-control form-control-modern"
                            (change)="onFileUploadBondeCommande($event)"
                            #reparationBondeCommande
                          />
                          <div
                            *ngIf="reparationLeBondeCommande"
                            style="padding: 5px; font-weight: 500"
                            class="bg-info"
                          >
                            <!---->
                            <a
                              href="{{ reparationLeBondeCommande }}"
                              target="_blank"
                              >CLIQUER POUR VOIR LE FICHIER JOINT</a
                            >
                            <input
                              type="text"
                              hidden
                              formControlName="reparationBondeCommandeModifNew"
                            /><!---->
                          </div>
                        </div>

                        <div class="col-md-4 inputSpace">
                          <label for="inputPassword4" class="form-label"
                            >Facture
                            <span class="text-danger">(PDF)</span></label
                          >
                          <input
                            type="file"
                            class="form-control form-control-modern"
                            (change)="onFileUploadFacture($event)"
                            #selectFileFacture
                          />
                          <div
                            *ngIf="reparationFacture"
                            style="padding: 5px; font-weight: 500"
                            class="bg-info"
                          >
                            <!---->
                            <a href="{{ reparationFacture }}" target="_blank"
                              >CLIQUER POUR VOIR LE FICHIER JOINT</a
                            >
                            <input
                              type="text"
                              hidden
                              formControlName="reparationFactureModifNew"
                            /><!---->
                          </div>
                        </div>

                        <div
                          class="col-12 col-md-12 text-center my-3"
                          *ngIf="hiddenTabReparationSave"
                        >
                          <button
                            [disabled]="vehiculeFormReparation.invalid"
                            style="margin-right: 10px"
                            type="submit"
                            class="submit-button btn btn-success btn-px-4 py-3 align-items-center font-weight-semibold line-height-1"
                            data-loading-text="Loading..."
                          >
                            <i class="bx bx-save text-4 mr-1"></i> Enregister
                          </button>

                          <span
                            class="submit-button btn btn-danger btn-px-4 py-3 align-items-center font-weight-semibold line-height-1"
                            (click)="ResetFormReparationAndDetail()"
                          >
                            <i class="fa fa-times text-4 mr-1"></i> Quitter
                          </span>
                        </div>
                      </div>
                      </form>
                      <!---->
                      <div class="mt-3" *ngIf="hiddenTabReparation">
                        <div class="bg-dark py-2 px-3 rounded">
                          <h3 class="m-0 d-flex text-warning">
                            <div class="text-muted">
                              <i class="fa fa-car"></i>&nbsp;&nbsp; REPARATION
                              .::.
                            </div>
                            Détails des travaux éffectués
                          </h3>
                        </div>

                        <div class="my-3 border rounded p-3">
                          <p class="text-danger">
                            ::. Cliquez sur le bouton
                            <strong>Ajouter</strong> pour ajouter le détail de
                            la réparation au tableau .::
                          </p>

                          <div class="card-body">
                            <form
                              class="row g-3 ecommerce-form action-buttons-fixed"
                              [formGroup]="vehiculeFormDetailReparation"
                              (ngSubmit)="
                                onSubmitFormDetailReparation(
                                  vehiculeFormDetailReparation.value
                                )
                              "
                            >
                              <input
                                type="text"
                                hidden
                                class="form-control form-control-modern"
                                id="inputPassword4"
                                formControlName="LreparationDetailID"
                              /><!--hidden-->

                              
                            <div class="col-md-4 inputSpace">
                              <label
                                for="inputEmail4"
                                class="form-label inputSpaceText"
                                >Pièce <span class="Oblig">*</span></label
                              >
                              <select
                              id="inputState"
                              class="form-control form-control-modern"
                              name="stockStatus"
                              formControlName="reparationDetailPieceID"
                            >
                              <option selected value="">-- Choisir --</option>
                              <option
                                *ngFor="let pie of listePiece.results"
                                [value]="pie.ID"
                              >
                                {{ pie.designation | uppercase }}
                              </option>
                            </select>

                            </div>

                            <div class="col-md-2 inputSpace">
                              <label
                                for="inputEmail4"
                                class="form-label inputSpaceText"
                                >Quantité <span class="Oblig">*</span></label
                              >
                              <input
                                type="number"
                                class="form-control form-control-modern"
                                id="inputPassword4"
                                formControlName="reparationDetailQuantite"
                              />
                            </div>

                             
                            <div class="col-md-2 inputSpace">
                              <label
                                for="inputEmail4"
                                class="form-label inputSpaceText"
                                >Prix Unit. <span class="Oblig">*</span></label
                              >
                              <input
                                type="number"
                                class="form-control form-control-modern"
                                id="inputPassword4"
                                formControlName="reparationDetailPrixUnit"
                              />
                            </div>
                            
                              <div class="col-md-2 inputSpace">
                                <label
                                  for="inputEmail4"
                                  class="form-label inputSpaceText"
                                  >Description <span class="Oblig">*</span></label
                                >
                                <input
                                  type="text"
                                  class="form-control form-control-modern"
                                  id="inputPassword4"
                                  formControlName="reparationDetailDesignation"
                                />
                              </div>
                            
                              <!--div class="col-md-2 inputSpace">
                                <label
                                  for="inputEmail4"
                                  class="form-label inputSpaceText"
                                  >TOTAL</label
                                >
                                <input
                                  type="number"
                                  readonly
                                  class="form-control form-control-modern"
                                  id="inputPassword4"
                                />
                              </div-->
                              <div class="col-md-2 inputSpace">
                                <button
                                  [disabled]="
                                    vehiculeFormDetailReparation.invalid
                                  "
                                  type="submit"
                                  class="btn btn-success btn-sm btn-px-4 py-3 align-items-center font-weight-semibold line-height-1"
                                  style="margin-top: 22px"
                                >
                                  <i class="fa fa-plus text-4 mr-2"></i> Ajouter
                                </button>
                              </div>
  
                              <div class="col-md-12">
                                <table
                                  mat-table
                                  [dataSource]="dataSourceReparationDetail"
                                  class="table-responsive-md table-striped mb-0"
                                >
                                  <!-- Position Column -->
                                  <ng-container matColumnDef="numberDet">
                                    <th
                                      mat-header-cell
                                      *matHeaderCellDef
                                      class="bg-dark"
                                    >
                                      #
                                    </th>
                                    <td
                                      mat-cell
                                      *matCellDef="let element; let i = index"
                                    >
                                      {{ i + 1 }}
                                    </td>
                                  </ng-container>

                                   <!-- Position Column -->
                                   <ng-container
                                   matColumnDef="PieceDesignation"
                                 >
                                   <th
                                     mat-header-cell
                                     *matHeaderCellDef
                                     class="bg-dark"
                                   >
                                   Description
                                   </th>
                                   <td mat-cell *matCellDef="let element">
                                     {{
                                       element.designation
                                         | uppercase
                                     }}
                                   </td>
                                 </ng-container>
  
                                  <!-- Position Column -->
                                  <ng-container
                                    matColumnDef="reparationDetailDesignation"
                                  >
                                    <th
                                      mat-header-cell
                                      *matHeaderCellDef
                                      class="bg-dark"
                                    >
                                    Description
                                    </th>
                                    <td mat-cell *matCellDef="let element">
                                      {{
                                        element.reparationDetailDesignation
                                          | uppercase
                                      }}
                                    </td>
                                  </ng-container>
  
                                  <ng-container
                                    matColumnDef="reparationDetailQuantite"
                                  >
                                    <th
                                      mat-header-cell
                                      *matHeaderCellDef
                                      class="bg-dark"
                                    >
                                      Quantité
                                    </th>
                                    <td mat-cell *matCellDef="let element">
                                      {{ element.reparationDetailQuantite }}
                                    </td>
                                  </ng-container>
  
                                  <!-- Position Column -->
                                  <ng-container
                                    matColumnDef="reparationDetailPrixUnit"
                                  >
                                    <th
                                      mat-header-cell
                                      *matHeaderCellDef
                                      class="bg-dark"
                                    >
                                      Prix Unitaire
                                    </th>
                                    <td mat-cell *matCellDef="let element">
                                      {{ element.reparationDetailPrixUnit }}
                                    </td>
                                  </ng-container>
  
                                  <!-- Name Column -->
                                  <ng-container
                                    matColumnDef="reparationDetailPrixTotal"
                                  >
                                    <th
                                      mat-header-cell
                                      *matHeaderCellDef
                                      class="bg-dark"
                                    >
                                      Total
                                    </th>
                                    <td mat-cell *matCellDef="let element">
                                      {{
                                        element.reparationDetailQuantite *
                                          element.reparationDetailPrixUnit
                                      }}
                                    </td>
                                  </ng-container>
  
                                  <!-- Symbol Column -->
                                  <ng-container matColumnDef="actionRepareDetail">
                                    <th
                                      mat-header-cell
                                      *matHeaderCellDef
                                      class="bg-dark"
                                    >
                                      Actions
                                    </th>
                                    <td mat-cell *matCellDef="let element">
                                      <!--button type="button" class="btn btn-info btn-sm mr-2">
                                                             <i class="bx bx-money" aria-hidden="true"></i> Dépense
                                                         </button>
                                                         <button type="button" class="btn btn-secondary btn-sm mr-2">
                                                             <i class="bx bxs-edit" aria-hidden="true"></i> Modifier
                                                         </button-->
                                      <button
                                        type="button"
                                        data-toggle="modal"
                                        data-target="#modal-info"
                                        class="btn btn-danger btn-sm"
                                        (click)="
                                          ItemSupprimeDetailReparation(
                                            element.ID,
                                            'reparationDetail',
                                            element.reparationID
                                          )
                                        "
                                      >
                                        <i class="bx bxs-trash"></i> Sup
                                      </button>
                                      <!--button type="button" class="btn btn-primary btn-sm">Small button</button>
                                                         <button type="button" class="btn btn-primary btn-sm">Small button</button-->
                                    </td>
                                  </ng-container>
  
                                  <tr
                                    mat-header-row
                                    *matHeaderRowDef="
                                      displayedColumnsReparationDetail
                                    "
                                  ></tr>
                                  <tr
                                    mat-row
                                    *matRowDef="
                                      let row;
                                      columns: displayedColumnsReparationDetail
                                    "
                                  ></tr>
                                </table>
  
                                <mat-paginator
                                  [pageSizeOptions]="[10, 20, 30]"
                                  showFirstLastButtons
                                  aria-label="Select page of periodic elements"
                                >
                                </mat-paginator>
                              </div>
                            </form>

                            <div class="col-12 col-md-12 text-center">
                              <span
                                class="submit-button btn btn-danger btn-px-4 py-3 align-items-center font-weight-semibold line-height-1"
                                (click)="actionCloseReparation(0)"
                              >
                                <i class="fa fa-times text-4 mr-1"></i> Quitter
                              </span>
                            </div>
                          </div>
  
                     
                          
                          <!--table class="w-100 mb-3">
                            <tr>
                              <td class="p-2">
                                <select class="form-control bg-light">
                                  <option value="">
                                    -- Choisir la pièce --
                                  </option>
                                </select>
                              </td>
                              <td class="p-2">
                                <input
                                  type="number"
                                  class="form-control"
                                  placeholder="Quantité"
                                />
                              </td>
                              <td class="p-2">
                                <input
                                  type="text"
                                  class="form-control"
                                  placeholder="Montant"
                                />
                              </td>
                              <td class="p-2">
                                <textarea
                                  rows="1"
                                  class="form-control"
                                  placeholder="Description"
                                ></textarea>
                              </td>
                              <td align="center" class="p-2">
                                <button class="btn btn-success w-100">
                                  <i class="fas fa-plus-square"></i>
                                  Ajouter
                                </button>
                              </td>
                            </tr>
                          </table>
                          <table class="table table-striped border mt-4">
                            <thead class="table-dark">
                              <tr>
                                <th class="py-1">Désignation.</th>
                                <th class="py-1">Quantité.</th>
                                <th class="py-1">Montant.</th>
                                <th class="py-1">Description.</th>
                                <th class="py-1"></th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr *ngFor="let n of [].constructor(5)">
                                <td class="py-2 font-weight-bold">
                                  Filtre à air
                                </td>
                                <td class="py-2">1</td>
                                <td class="py-2">15 000 F.CFA</td>
                                <td class="py-2">-</td>
                                <td class="py-2" align="right">
                                  <button
                                    class="btn btn-sm btn-outline-primary py-1 ml-2"
                                  >
                                    <small><i class="fas fa-edit"></i></small>
                                  </button>
                                  <button
                                    class="btn btn-sm btn-outline-danger py-1 ml-2"
                                  >
                                    <small><i class="fas fa-trash"></i></small>
                                  </button>
                                </td>
                              </tr>
                            </tbody>
                          </table-->
                        </div>
                      </div>
                      <!--section
                        
                        class="col-md-12 card"
                        style="margin-top: 10px"
                        
                      >
                        <div
                          class="bg-warning"
                          style="
                            padding-top: 10px;
                            padding-left: 20px;
                            padding-bottom: 0px;
                          "
                        >
                          <h2 class="card-title">
                            Détail des travaux effectués
                          </h2>
                        </div>
                     ddd
                      </section-->
                    </div>
               

                    <section
                    class="card" [ngClass]="{ hidden: hiddenListeReparation }"
                  >
               
                    <!--header class="card-header" style="margin: 0px; padding: 5px;">
                              <h3 class="card-title" style="margin: 2px; padding: 4px;">Liste des véhicules réparés</h3>
                            </header-->

                    <div>
                      <div>
                        <mat-form-field>
                          <mat-label>Rechercher</mat-label>
                          <input
                            matInput
                            (keyup)="applyFilter($event)"
                            placeholder="Immatriculation , modèle , direction ..."
                            #input
                          />
                        </mat-form-field>

                        <table
                          mat-table
                          [dataSource]="dataSourceReparation"
                          class="table-responsive-md table-striped mb-0"
                        >
                          <!-- Position Column -->
                          <ng-container matColumnDef="number">
                            <th mat-header-cell *matHeaderCellDef>#</th>
                            <td
                              mat-cell
                              *matCellDef="let element; let i = index"
                            >
                              {{ i + 1 }}
                            </td>
                          </ng-container>

                          <!-- Name Column -->
                          <ng-container matColumnDef="reparationDate">
                            <th mat-header-cell *matHeaderCellDef>
                              Date sinistre
                            </th>
                            <td mat-cell *matCellDef="let element">
                              {{ element.reparationDate | date : "dd/MM/yyyy" }}
                            </td>
                          </ng-container>

                          <!-- Weight Column -->
                          <ng-container matColumnDef="reparationLibelle">
                            <th mat-header-cell *matHeaderCellDef>
                              Libellé de la reparation
                            </th>
                            <td mat-cell *matCellDef="let element">
                              {{ element.reparationLibelle | uppercase }}
                            </td>
                          </ng-container>

                          <ng-container matColumnDef="reparationStatut">
                            <th mat-header-cell *matHeaderCellDef>Statut</th>
                            <td mat-cell *matCellDef="let element">
                              {{ element.reparationStatut }}
                            </td>
                          </ng-container>

                          <!-- Symbol Column 
                        <ng-container matColumnDef="sinistreConducteur">
                          <th mat-header-cell *matHeaderCellDef>
                            Conducteur
                          </th>
                          <td mat-cell *matCellDef="let element">
                            {{ element.sinistreConducteur }}
                          </td>
                        </ng-container>-->

                          <!-- Symbol Column 
               <ng-container matColumnDef="etat">
                  <th mat-header-cell *matHeaderCellDef> Etat </th>
                  <td mat-cell *matCellDef="let element"> 
                      <span *ngIf="element.etat=='Parc'" class="badge badge-pill badge-success text-1">{{element.etat}}</span>
                      <span *ngIf="element.etat!='Parc'"class="badge badge-pill badge-danger text-1">{{element.etat}}</span>
                     </td>
                </ng-container>-->

                          <!-- Symbol Column -->
                          <ng-container matColumnDef="actionRepare">
                            <th mat-header-cell *matHeaderCellDef>Actions</th>
                            <td mat-cell *matCellDef="let element">
                              <!--button type="button" class="btn btn-info btn-sm mr-2">
                      <i class="bx bx-money" aria-hidden="true"></i> Dépense
                  </button-->
                              <button
                                type="button"
                                class="btn btn-secondary btn-sm mr-2"
                                (click)="
                                  loadOneReparation(element.reparationID)
                                "
                              >
                                <i class="bx bxs-edit" aria-hidden="true"></i>
                                Modifier
                              </button>

                              <span
                                data-toggle="modal"
                                data-target="#modal-info"
                                class="btn btn-danger btn-sm"
                                (click)="
                                  ItemSupprimeReparation(
                                    element.reparationID,
                                    'reparation',
                                    element.reparationpanneOrSinistreID
                                  )
                                "
                              >
                                <i class="bx bxs-trash"></i> Sup
                              </span>

                              <!--button
                              type="button"
                              class="btn btn-secondary btn-sm mr-2"
                            >
                              <i class="bx bxs-edit" aria-hidden="true"></i>
                              Modifier
                            </button>
                            <button
                              type="button"
                              class="btn btn-danger btn-sm"
                            >
                              <i class="bx bxs-trash"></i> Sup
                            </button-->
                              <!--button type="button" class="btn btn-primary btn-sm">Small button</button>
                  <button type="button" class="btn btn-primary btn-sm">Small button</button-->
                            </td>
                          </ng-container>

                          <tr
                            mat-header-row
                            *matHeaderRowDef="displayedColumnsReparation"
                          ></tr>
                          <tr
                            mat-row
                            *matRowDef="
                              let row;
                              columns: displayedColumnsReparation
                            "
                          ></tr>
                        </table>

                        <mat-paginator
                          [pageSizeOptions]="[10, 20, 30]"
                          showFirstLastButtons
                          aria-label="Select page of periodic elements"
                        >
                        </mat-paginator>
                      </div>
                    </div>
                  </section>
             
                </div>

                <div
                  class="tab-pane fade"
                  id="Sinistre"
                  role="tabpanel"
                  aria-labelledby="Sinistre-tab"
                >
                  <div class="row">
                    <div class="col-md-12 text-right">
                      <button
                        type="button"
                        class="btn btn-success"
                        (click)="actionCloseSinistre(1)"
                        [ngClass]="{ hidden: ActionOpenSinistre }"
                      >
                        <i class="fa fa-plus mr-2"></i>AJOUTER UN SINISTRE
                      </button>
                      <div
                        class="d-flex align-items-center justify-content-between border-bottom pb-3"
                        [ngClass]="{ hidden: ActionCloseSinistre }"
                      >
                        <h3 class="m-0 d-flex text-danger font-weight-bold">
                          <div class="text-muted mr-2">
                            <i class="fas fa-car-crash"></i>&nbsp;&nbsp;
                            SINISTRE .::.
                          </div>
                          Déclaration d'un sinistre
                        </h3>
                        <button
                          type="button"
                          class="btn btn-danger"
                          (click)="actionCloseSinistre(0)"
                        >
                          <i class="fas fa-times mr-2"></i>FERMER
                        </button>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                      <form [ngClass]="{ hidden: hiddenSinistre }"
                        [formGroup]="vehiculeFormSinistre"
                        (ngSubmit)="
                          onSubmitFormSinistre(vehiculeFormSinistre.value)
                        "
                      >
                      <div class="row my-3 border rounded p-3 bg-light">
                        <div class="col-md-2 inputSpace" hidden>
                          <input
                            type="text"
                            class="form-control form-control-modern"
                            id="LsinistreID"
                            formControlName="LsinistreID"
                          />
                        </div>

                        <div class="col-md-3 inputSpace">
                          <label for="inputEmail4" class="form-label"
                            >Véhicule</label
                          >
                          <select
                            id="inputState"
                            class="form-control form-control-modern border-success"
                            name="sinistrestockStatus"
                            disabled
                          >
                            <option selected>
                              [{{ imatriculation | uppercase }}] -
                              {{ marque | uppercase }} {{ modele | uppercase }}
                            </option>
                          </select>
                        </div>
                        <div class="col-md-5 inputSpace">
                          <label for="inputPassword4" class="form-label"
                            >Lieu du sinistre
                            <span class="Oblig">*</span></label
                          >
                          <input
                            type="text"
                            formControlName="sinistreLieu"
                            class="form-control form-control-modern"
                            id="inputPassword4"
                          />
                        </div>
                        <div class="col-md-2 inputSpace">
                          <label for="inputEmail4" class="form-label"
                            >Date <span class="Oblig">*</span></label
                          >
                          <input
                            type="date"
                            formControlName="sinistreDate"
                            class="form-control form-control-modern inputSpaceText"
                            id="inputEmail4"
                          />
                        </div>
                        <div class="col-md-2 inputSpace">
                          <label for="inputPassword4" class="form-label"
                            >Heure</label
                          >
                          <input
                            type="time"
                            formControlName="sinistreHeure"
                            class="form-control form-control-modern"
                            id="inputPassword4"
                          />
                        </div>

                        <div class="col-md-3 inputSpace">
                          <label for="inputPassword4" class="form-label"
                            >Nature du sinistre
                          </label>

                          <div class="input-group">
                            <select
                              id="naturesinistre_ID"
                              class="form-control"
                              formControlName="naturesinistre_ID"
                              name="naturesinistre_ID"
                            >
                              <option selected value="">-- Choisir --</option>
                              <option
                                *ngFor="let tsinistre of listenaturesinistre.results"
                                [value]="tsinistre.ID"
                              >
                                {{ tsinistre.designation | uppercase }}
                              </option>
                            </select>
                            <!--button
                              tsinistre.ID
                              class="input-group-text"
                              type="button"
                              data-toggle="modal"
                              data-target="#addNature"
                            >
                              <i class="fa fa-plus-circle"></i>
                            </button-->
                          </div>

                          <!--div class="input-group">
                            <input
                              type="text"
                              class="form-control form-control-modern"
                              list="sinistres"
                            />
                            <datalist id="sinistres">
                              <option value="Choisir la nature du sinistre">
                                -- Choisir la nature du sinistre --
                              </option>
                              <option value="">
                                -- Choisir la nature du sinistre --
                              </option>
                            </datalist>
                            <button
                              class="input-group-text"
                              type="button"
                              data-toggle="modal"
                              data-target="#addNature"
                            >
                              <i class="fa fa-plus-circle"></i>
                            </button>
                          </div-->
                        </div>
                        <div class="col-md-2 inputSpace">
                          <label for="inputEmail4" class="form-label"
                            >Kilométrage <span class="Oblig">*</span></label
                          >
                          <input
                            type="number"
                            class="form-control form-control-modern"
                            id="inputPassword4"
                            formControlName="sinistreKilometrage"
                          />
                        </div>

                        <div class="col-md-4 inputSpace">
                          <label for="inputPassword4" class="form-label"
                            >Conducteur (Nom et Prénoms)
                            <span class="Oblig">*</span></label
                          >
                          <input
                            type="text"
                            class="form-control form-control-modern"
                            id="inputPassword4"
                            formControlName="sinistreConducteur"
                          />
                          <!--select
                          id="inputState"
                          class="form-control form-control-modern"
                          name="stockStatus"
                        >
                          <option selected>------ Choisir ------</option>
                          <option>KOUASSI KOUAKOU</option>
                          <option>FOFANA</option>
                          <option>GUEY</option>
                          <option>Robert AHOH</option>
                        </select-->
                        </div>

                        <div class="col-md-3 inputSpace">
                          <label for="inputEmail4" class="form-label"
                            >Statut Véhicule <span class="Oblig">*</span></label
                          >
                          <div class="form-check">
                            <input
                              class="form-check-input"
                              type="radio"
                              name="panneSinistre"
                              id="panneSinistre1"
                              formControlName="panneSinistre"
                              value="En ciruclation"
                              checked
                            />
                            <label class="form-check-label" for="exampleRadios1"
                              >En circulation
                            </label>
                          </div>
                          <div class="form-check">
                            <input
                              class="form-check-input"
                              type="radio"
                              name="panneSinistre"
                              id="panneSinistre2"
                              formControlName="panneSinistre"
                              value="Immobilisé"
                            />
                            <label
                              class="form-check-label"
                              for="exampleRadios2"
                            >
                              Immobilisé
                            </label>
                          </div>
                        </div>

                        <div class="col-md-12 ligne border-bottom">
                          <h3
                            class="m-0 d-flex text-danger font-weight-bold py-2"
                          >
                            <div class="text-muted Déclaration d'un sinistre">
                              <i class="fas fa-car-crash"></i>&nbsp;&nbsp;
                              SINISTRE .::.
                            </div>
                            Autre acteur du sinistre
                          </h3>
                        </div>

                        <div class="col-md-3 inputSpace">
                          <label for="inputPassword4" class="form-label"
                            >Identification</label
                          >
                          <input
                            type="text"
                            class="form-control form-control-modern"
                            id="inputPassword4"
                            formControlName="sinistreAutreacteur"
                            placeholder="Autre acteur"
                          />
                        </div>

                        <div class="col-md-3 inputSpace">
                          <label for="inputPassword4" class="form-label"
                            >Véhicule concerné</label
                          >
                          <input
                            type="text"
                            class="form-control form-control-modern"
                            id="inputPassword4"
                            placeholder="Immatriculation"
                            formControlName="sinistreVehiculeconcerne"
                          />
                        </div>

                        <div class="col-md-3 inputSpace">
                          <label for="inputPassword4" class="form-label"
                            >Marque</label
                          >
                          <div class="input-group">
                            <select
                              id="marque_ID"
                              class="form-control"
                              formControlName="marque_ID"
                              name="marque_ID"
                              (change)="changeMarque($event.target.value)"
                            >
                              <option selected value="">-- Choisir --</option>
                              <option
                                *ngFor="let marque of listemarques.results"
                                [value]="marque.ID"
                              >
                                {{ marque.designation | uppercase }}
                              </option>
                            </select>
                            <!--button class="input-group-text" type="button">
                              <i class="fa fa-plus-circle"></i>
                            </button-->
                          </div>
                        </div>

                        <div class="col-md-3 inputSpace">
                          <label for="inputPassword4" class="form-label"
                            >Modèle</label
                          >
                          <div class="input-group">
                            <select
                              id="modele_ID"
                              class="form-control"
                              formControlName="modele_ID"
                              name="modele_ID"
                            >
                              <option selected value="">
                                ---- Choisir ----
                              </option>
                              <option
                                selected
                                *ngFor="
                                  let moelmarque of listemodelebymarques.results
                                "
                                [value]="moelmarque.model_ID"
                              >
                                {{ moelmarque.modele | uppercase }}
                              </option>
                            </select>
                            <!--button class="input-group-text" type="button">
                              <i class="fa fa-plus-circle"></i>
                            </button-->
                          </div>
                        </div>

                        <div class="col-md-3 inputSpace">
                          <label for="inputPassword4" class="form-label"
                            >Conducteur</label
                          >
                          <input
                            type="text"
                            class="form-control form-control-modern"
                            id="inputPassword4"
                            placeholder="Nom et prénoms"
                            formControlName="sinistreAutreacteurNomPrenoms"
                          />
                        </div>

                        <div class="col-md-3 inputSpace">
                          <label for="inputPassword4" class="form-label"
                            >Contact conducteur</label
                          >
                          <input
                            type="text"
                            class="form-control form-control-modern"
                            id="inputPassword4"
                            placeholder="Contact"
                            formControlName="sinistreAutreacteurContact"
                          />
                        </div>
                        <div class="col-md-3 inputSpace">
                          <label for="inputPassword4" class="form-label"
                            >N° police assurance</label
                          >
                          <input
                            type="number"
                            class="form-control form-control-modern"
                            id="inputPassword4"
                            placeholder="N° police"
                            formControlName="sinistreAutreacteurPoliceAsurance"
                          />
                        </div>
                        <div class="col-md-3 inputSpace">
                          <label for="inputPassword4" class="form-label"
                            >Assureur</label
                          >
                          <input
                            type="text"
                            class="form-control form-control-modern"
                            id="inputPassword4"
                            placeholder="Assureur"
                            formControlName="sinistreAutreacteurAsurance"
                          />
                        </div>

                        <div class="col-md-3 inputSpace">
                          <label for="inputPassword4" class="form-label"
                            >Date Début ass.</label
                          >
                          <input
                            type="date"
                            class="form-control form-control-modern"
                            id="inputPassword4"
                            placeholder="assurance"
                            formControlName="sinistreAutreacteurDateDebutAsurance"
                          />
                        </div>

                        <div class="col-md-3 inputSpace">
                          <label for="inputPassword4" class="form-label"
                            >Date FIn ass.</label
                          >
                          <input
                            type="date"
                            class="form-control form-control-modern"
                            id="inputPassword4"
                            placeholder="assurance"
                            formControlName="sinistreAutreacteurDateFinAsurance"
                          />
                        </div>

                        <div class="col-md-12 ligne"></div>

                        <div class="col-md-8 inputSpace">
                          <label for="inputPassword4" class="form-label"
                            >Description du sinistre
                            <span class="text-danger"></span
                          ></label>
                          <textarea
                            type="text"
                            rows="2"
                            cols="50"
                            class="form-control form-control-modern"
                            formControlName="sinistreDescription"
                          ></textarea>
                        </div>

                        <div class="col-md-4 inputSpace">
                          <label for="inputPassword4" class="form-label"
                            >Rapport du sinistre
                            <span class="text-danger">(PDF)</span></label
                          >
                          <input
                            type="file"
                            class="form-control form-control-modern"
                            (change)="onFileUploadSinistre($event)"
                            #selectFileSinistre
                          />
                          <div
                            style="padding: 5px; font-weight: 500"
                            class="bg-warning"
                            *ngIf="sinistreFile"
                          >
                            <a href="{{ sinistreFile }}" target="_blank"
                              >CLIQUER POUR VOIR LE FICHIER JOINT</a
                            >
                            <input
                              type="text"
                              hidden
                              formControlName="sinistreFileModif"
                            />
                          </div>
                        </div>

                        <!--formControlName=""-->

                        <!--div class="col-12 col-md-12 text-center">
                          <button
                            [disabled]="vehiculeFormSinistre.invalid"
                            style="margin-right: 10px"
                            type="submit"
                            class="submit-button btn btn-success btn-px-4 py-3 align-items-center font-weight-semibold line-height-1"
                            data-loading-text="Loading..."
                          >
                            <i class="bx bx-save text-4 mr-1"></i> Enregister
                          </button>
                        
                          <span
                            class="submit-button btn btn-danger btn-px-4 py-3 align-items-center font-weight-semibold line-height-1"
                            (click)="actionClosePanne(0)"
                          >
                            <i class="fa fa-times text-4 mr-1"></i> Quitter
                          </span>
                        </div-->

                        <div class="col-12 col-md-12 text-center">
                          <button
                            [disabled]="vehiculeFormSinistre.invalid"
                            style="margin-right: 10px"
                            type="submit"
                            class="submit-button btn btn-success btn-px-4 py-3 align-items-center font-weight-semibold line-height-1"
                            data-loading-text="Loading..."
                          >
                            <i class="bx bx-save text-4 mr-1"></i> Enregister
                          </button>

                          <span
                            class="submit-button btn btn-danger btn-px-4 py-3 align-items-center font-weight-semibold line-height-1"
                            (click)="actionCloseSinistre(0)"
                          >
                            <i class="fa fa-times text-4 mr-1"></i> Quitter
                          </span>
                        </div>
                      </div>
                      </form>
                   
                  </div>

                  <section class="card" [ngClass]="{ hidden: hiddenListeSinistre }">
                
                        <mat-form-field>
                          <mat-label>Rechercher</mat-label>
                          <input
                            matInput
                            (keyup)="applyFilter($event)"
                            placeholder="Immatriculation , modèle , direction ..."
                            #input
                          />
                        </mat-form-field>

                    
                          <table
                            mat-table
                            [dataSource]="dataSourceSinistreNew"
                            class="table-responsive-md table-striped mb-0"
                          >
                            <!-- Position Column -->
                            <ng-container matColumnDef="number">
                              <th mat-header-cell *matHeaderCellDef>#</th>
                              <td
                                mat-cell
                                *matCellDef="let element; let i = index"
                              >
                                {{ i + 1 }}
                              </td>
                            </ng-container>

                            <!-- Name Column -->
                            <ng-container matColumnDef="sinistreDate">
                              <th mat-header-cell *matHeaderCellDef>
                                Date sinistre
                              </th>
                              <td mat-cell *matCellDef="let element">
                                {{ element.sinistreDate | date : "dd/MM/yyyy" }}
                              </td>
                            </ng-container>

                            <!-- Weight Column -->
                            <ng-container matColumnDef="sinistreNature">
                              <th mat-header-cell *matHeaderCellDef>
                                Nature du sinistre
                              </th>
                              <td mat-cell *matCellDef="let element">
                                {{ element.designation | uppercase }}
                              </td>
                            </ng-container>

                            <ng-container matColumnDef="sinistreLieu">
                              <th mat-header-cell *matHeaderCellDef>
                                Lieu du sinistre
                              </th>
                              <td mat-cell *matCellDef="let element">
                                {{ element.sinistreLieu | uppercase }}
                              </td>
                            </ng-container>

                            <!-- Symbol Column -->
                            <ng-container matColumnDef="sinistreConducteur">
                              <th mat-header-cell *matHeaderCellDef>
                                Conducteur
                              </th>
                              <td mat-cell *matCellDef="let element">
                                {{ element.sinistreConducteur | uppercase }}
                              </td>
                            </ng-container>

                            <!-- Symbol Column 
                   <ng-container matColumnDef="etat">
                      <th mat-header-cell *matHeaderCellDef> Etat </th>
                      <td mat-cell *matCellDef="let element"> 
                          <span *ngIf="element.etat=='Parc'" class="badge badge-pill badge-success text-1">{{element.etat}}</span>
                          <span *ngIf="element.etat!='Parc'"class="badge badge-pill badge-danger text-1">{{element.etat}}</span>
                         </td>
                    </ng-container>-->

                            <!-- Symbol Column -->
                            <ng-container matColumnDef="actionSinistre">
                              <th mat-header-cell *matHeaderCellDef>Actions</th>
                              <td mat-cell *matCellDef="let element">
                                <!--button type="button" class="btn btn-info btn-sm mr-2">
                          <i class="bx bx-money" aria-hidden="true"></i> Dépense
                      </button-->

                                 <button
                                  type="button"
                                  class="btn btn-info btn-sm mr-2"
                                  (click)="validerReparation(element.ID, 1)"
                                  *ngIf="element.validerReparation==0"
                                >
                                  <i class="bx bxs-edit" aria-hidden="true"></i>
                                  Envoyer à la reparation
                                  </button>
                                  
                                  <button type="button" class="btn btn-warning btn-sm mr-2" (click)="validerReparation(element.ID, 0)"
                                    *ngIf="element.validerReparation==1">
                                    <i class="bx bxs-remove" aria-hidden="true"></i>
                                    Annuler l'envoi en reparation
                                </button>

                                <button
                                  type="button"
                                  class="btn btn-secondary btn-sm mr-2"
                                  (click)="loadOneSinistre(element.ID)"
                                >
                                  <i class="bx bxs-edit" aria-hidden="true"></i>
                                  Modifier
                                </button>

                                <span
                                  type="button"
                                  data-toggle="modal"
                                  data-target="#modal-info"
                                  class="btn btn-danger btn-sm"
                                  (click)="ItemSupprime(element.ID, 'sinistre')"
                                >
                                  <i class="bx bxs-trash"></i> Sup
                                </span>

                                <!--button
                                  type="button"
                                  class="btn btn-secondary btn-sm mr-2"
                                >
                                  <i class="bx bxs-edit" aria-hidden="true"></i>
                                  Modifier
                                </button>
                                <button
                                  type="button"
                                  class="btn btn-danger btn-sm"
                                >
                                  <i class="bx bxs-trash"></i> Sup
                                </button-->
                                <!--button type="button" class="btn btn-primary btn-sm">Small button</button>
                      <button type="button" class="btn btn-primary btn-sm">Small button</button-->
                              </td>
                            </ng-container>

                            <tr
                              mat-header-row
                              *matHeaderRowDef="displayedColumnsSinistreNew"
                            ></tr>
                            <tr
                              mat-row
                              *matRowDef="
                                let row;
                                columns: displayedColumnsSinistreNew
                              "
                            ></tr>
                          </table>

                          <mat-paginator
                            [pageSizeOptions]="[10, 20, 30]"
                            showFirstLastButtons
                            aria-label="Select page of periodic elements"
                          >
                          </mat-paginator>
                     
                  
                  </section>
                </div>

                <div
                  class="tab-pane fade"
                  id="Carburant"
                  role="tabpanel"
                  aria-labelledby="Carburant-tab"
                >
                  <div class="row">
                    <div class="col-md-12 text-right">
                      <button
                        type="button"
                        class="btn btn-success"
                        (click)="actionCloseCarburant(1)"
                        [ngClass]="{ hidden: ActionOpenCarburant }"
                      >
                        <i class="fa fa-plus mr-2"></i>AJOUTER DU CARBURANT
                      </button>
                      <button
                        type="button"
                        class="btn btn-danger"
                        (click)="actionCloseCarburant(0)"
                        [ngClass]="{ hidden: ActionCloseCarburant }"
                      >
                        <i class="fas fa-times mr-2"></i>FERMER
                      </button>
                    </div>
                  </div>
                  <div class="row" [ngClass]="{ hidden: hiddenCarburant }">
                    <div class="card-body">
                      <form class="row g-3">
                        <div class="col-md-3 inputSpace">
                          <label
                            for="inputEmail4"
                            class="form-label inputSpaceText"
                            >Véhicule</label
                          >
                          <select
                            disabled
                            id="inputState"
                            class="form-control form-control-modern"
                            name="stockStatus"
                          >
                            <option selected>
                              [{{ imatriculation | uppercase }}] -
                              {{ marque | uppercase }} {{ modele | uppercase }}
                            </option>
                          </select>
                          <!--small class="text-danger font-weight-bold">Réservoir Total: 30L</small-->
                        </div>
                        <div class="col-md-2 inputSpace">
                          <label
                            for="capReservoir"
                            class="form-label inputSpaceText"
                            >Cap. Réservoir<span class="Oblig">*</span></label
                          >
                          <input
                            type="number"
                            value="60"
                            disabled
                            class="form-control inputSpaceText"
                            id="capReservoir"
                          />
                        </div>

                        <div class="col-md-2 inputSpace">
                          <label for="L100km" class="form-label inputSpaceText"
                            >Consom.L/100Km<span class="Oblig">*</span></label
                          >
                          <input
                            type="text"
                            value="5,3"
                            disabled
                            class="form-control inputSpaceText"
                            id="L100km"
                          />
                        </div>

                        <div class="col-md-3 inputSpace">
                          <label
                            for="chargeutile"
                            class="form-label inputSpaceText"
                            >Transmission</label
                          >
                          <select
                            disabled
                            id="transmission"
                            class="form-control"
                          >
                            <option value="manuelle">MANUELLE</option>
                          </select>
                        </div>

                        <div class="col-md-2 inputSpace">
                          <label for="L100km" class="form-label inputSpaceText"
                            >Energie<span class="Oblig">*</span></label
                          >
                          <input
                            type="text"
                            value="ESSENCE"
                            disabled
                            class="form-control inputSpaceText"
                            id="L100km"
                          />
                        </div>

                        <div class="col-md-2 inputSpace">
                          <label
                            for="inputEmail4"
                            class="form-label inputSpaceText"
                            >Date <span class="Oblig">*</span></label
                          >
                          <input
                            type="date"
                            value="1"
                            placeholder="1"
                            class="form-control form-control-modern"
                            id="inputPassword4"
                          />
                        </div>

                        <div class="col-md-3 inputSpace">
                          <label
                            for="dotationCarburant"
                            class="form-label inputSpaceText"
                            >Carte carburant</label
                          >
                          <select
                            id="dotationCarburant"
                            class="form-control"
                            name="dotationCarburant"
                          >
                            <option selected>---- Choisir ----</option>
                            <option value="25000">
                              [45587] - Montant 300.000F
                            </option>
                            <option value="30000">
                              [45588] - Montant 50.000F
                            </option>
                            <option value="30000">
                              [45588] - Montant 20.000F
                            </option>
                          </select>
                        </div>

                        <div class="col-md-2 inputSpace">
                          <label
                            for="inputEmail4"
                            class="form-label inputSpaceText"
                            >Montant<span class="Oblig">*</span></label
                          >
                          <input
                            type="number"
                            class="form-control form-control-modern"
                            id="inputPassword4"
                          />
                        </div>

                        <div class="col-md-2 inputSpace">
                          <label
                            for="inputEmail4"
                            class="form-label inputSpaceText"
                            >Km depart. <span class="Oblig">*</span></label
                          >
                          <input
                            type="number"
                            class="form-control form-control-modern"
                            id="inputPassword4"
                          />
                        </div>
                        <div class="col-md-2 inputSpace">
                          <label
                            for="inputEmail4"
                            class="form-label inputSpaceText"
                            >Km retour<span class="Oblig">*</span></label
                          >
                          <input
                            type="number"
                            class="form-control form-control-modern"
                            id="inputPassword4"
                          />
                        </div>

                        <div class="col-md-3 inputSpace">
                          <label
                            for="inputEmail4"
                            class="form-label inputSpaceText"
                            >Pièce justificative<span class="Oblig"
                              >*</span
                            ></label
                          >
                          <input
                            type="file"
                            class="form-control form-control-modern"
                            id="inputPassword4"
                          />
                        </div>

                        <!--div class="col-md-3 inputSpace">
                                    <label for="inputEmail4" class="form-label inputSpaceText">Type de carburant <span class="Oblig">*</span></label>
                                    <select id="inputState" class="form-control form-control-modern" name="stockStatus">
                                        <option selected>------ Choisir ------ </option>
                                        <option>{{'[CUVE 01] - Gasoil' | uppercase}}</option>
                                        <option>{{'[CUVE 02] - essence' | uppercase}}</option>
                                        <option>{{'Chaîne de distribution Citadine' | uppercase}}</option>
                                      </select>
                                      <small class="text-danger">Restant: 1500L</small>
                                  </div-->
                        <!--div class="col-md-1 inputSpace">
                                    <label for="inputEmail4" class="form-label inputSpaceText">Plein <span class="Oblig">*</span></label>
                                    <select id="inputState" class="form-control form-control-modern" name="stockStatus">
                                        <option >------ Choisir ------ </option>
                                        <option>{{' OUI' | uppercase}}</option>
                                        <option selected>{{'NON' | uppercase}}</option>
                                      
                                      </select>
                                  </div-->

                        <!--div class="col-md-2 inputSpace">
                                    <label for="inputEmail4" class="form-label inputSpaceText">Prix Total</label>
                                    <input readonly type="number" value="0" placeholder="1" class="form-control form-control-modern" id="inputPassword4">
                                  </div-->

                        <div class="col-12 col-md-12 text-center">
                          <button
                            style="margin-right: 10px"
                            type="submit"
                            class="submit-button btn btn-success btn-px-4 py-3 align-items-center font-weight-semibold line-height-1"
                            data-loading-text="Loading..."
                          >
                            <i class="bx bx-save text-4 mr-1"></i> Enregister
                          </button>

                          <button
                            type="submit"
                            class="submit-button btn btn-danger btn-px-4 py-3 align-items-center font-weight-semibold line-height-1"
                            routerLink="/gestion/vehiculeAccident/view"
                          >
                            <i class="fa fa-times text-4 mr-1"></i> Quitter
                          </button>
                        </div>
                      </form>
                    </div>
                  </div>

                  <section class="card">
                    <div>
                      <div>
                        <mat-form-field>
                          <mat-label>Rechercher</mat-label>
                          <input
                            matInput
                            (keyup)="applyFilter($event)"
                            placeholder="Immatriculation , modèle , direction ..."
                            #input
                          />
                        </mat-form-field>

                        <div>
                          <table
                            mat-table
                            [dataSource]="dataSourceCarburant"
                            class="table-responsive-md table-striped mb-0"
                          >
                            <!-- Position Column -->
                            <ng-container matColumnDef="position">
                              <th mat-header-cell *matHeaderCellDef>
                                Véhicule
                              </th>
                              <td mat-cell *matCellDef="let element">
                                {{ element.position }} {{ element.type }}
                              </td>
                            </ng-container>

                            <!-- Name Column -->
                            <ng-container matColumnDef="name">
                              <th mat-header-cell *matHeaderCellDef>Date</th>
                              <td mat-cell *matCellDef="let element">
                                {{ element.name }}
                              </td>
                            </ng-container>
                            <!-- Name Column -->
                            <ng-container matColumnDef="typeCarb">
                              <th mat-header-cell *matHeaderCellDef>
                                Type Carburant
                              </th>
                              <td mat-cell *matCellDef="let element">
                                {{ element.typeCarb }}
                              </td>
                            </ng-container>

                            <!-- Weight Column -->
                            <ng-container matColumnDef="weight">
                              <th mat-header-cell *matHeaderCellDef>
                                Nb. Litre
                              </th>
                              <td mat-cell *matCellDef="let element">
                                {{ element.weight }}
                              </td>
                            </ng-container>

                            <!-- Symbol Column -->
                            <ng-container matColumnDef="symbol">
                              <th mat-header-cell *matHeaderCellDef>
                                Coût/Litre
                              </th>
                              <td mat-cell *matCellDef="let element">
                                {{ element.symbol }}
                              </td>
                            </ng-container>

                            <!-- Symbol Column -->
                            <ng-container matColumnDef="etat">
                              <th mat-header-cell *matHeaderCellDef>
                                Prix Total
                              </th>
                              <td mat-cell *matCellDef="let element">
                                {{ element.etat }}
                              </td>
                            </ng-container>

                            <!-- Symbol Column -->
                            <ng-container matColumnDef="action">
                              <th mat-header-cell *matHeaderCellDef>Actions</th>
                              <td mat-cell *matCellDef="let element">
                                <!--button type="button" class="btn btn-info btn-sm mr-2">
                                              <i class="bx bx-money" aria-hidden="true"></i> Dépense
                                          </button-->
                                <button
                                  type="button"
                                  class="btn btn-secondary btn-sm mr-2"
                                >
                                  <i class="bx bxs-edit" aria-hidden="true"></i>
                                  Modifier
                                </button>
                                <button
                                  type="button"
                                  class="btn btn-danger btn-sm"
                                >
                                  <i class="bx bxs-trash"></i> Sup
                                </button>
                                <!--button type="button" class="btn btn-primary btn-sm">Small button</button>
                                          <button type="button" class="btn btn-primary btn-sm">Small button</button-->
                              </td>
                            </ng-container>

                            <tr
                              mat-header-row
                              *matHeaderRowDef="displayedColumnsCarburant"
                            ></tr>
                            <tr
                              mat-row
                              *matRowDef="
                                let row;
                                columns: displayedColumnsCarburant
                              "
                            ></tr>
                          </table>

                          <mat-paginator
                            [pageSizeOptions]="[10, 20, 30]"
                            showFirstLastButtons
                            aria-label="Select page of periodic elements"
                          >
                          </mat-paginator>
                        </div>
                      </div>
                    </div>
                  </section>
                </div>

                <div
                  class="tab-pane fade"
                  id="Kilometrage"
                  role="tabpanel"
                  aria-labelledby="Kilometrage-tab"
                >
                  <!--div class="spinner4" *ngIf="isLoadingResultsModif">
                    <div class="bounce1"></div>
                    <div class="bounce2"></div>
                    <div class="bounce3"></div>
                  </div-->
                  <div class="row">
                    <div class="col-md-12 text-right">
                      <button
                        type="button"
                        class="btn btn-success"
                        (click)="actionCloseKilometrage(1)"
                        [ngClass]="{ hidden: ActionOpenKilometrage }"
                      >
                        <i class="fa fa-plus mr-2"></i>AJOUTER UN KILOMETRAGE
                      </button>

                      <div
                      class="d-flex align-items-center justify-content-between border-bottom pb-3"
                      [ngClass]="{ hidden: ActionCloseKilometrage }"
                    >
                      <h3 class="m-0 d-flex text-danger font-weight-bold">
                        <div class="text-muted mr-2">
                          <i class="fas fa-car"></i>&nbsp;&nbsp; KILOMETRAGE .::.
                        </div>
                        Enregistrement du kilométrage
                      </h3>
                      <button
                        type="button"
                        class="btn btn-danger"
                        (click)="actionCloseKilometrage(0)"
                        [ngClass]="{ hidden: ActionCloseKilometrage }"
                      >
                        <i class="fas fa-times mr-2"></i>FERMER
                      </button>
                    </div>
                    </div>
                  </div>
                  <div [ngClass]="{ hidden: hiddenKilometrage }">
                    <div class="card-body">
                      <form
                        [formGroup]="vehiculeFormKilometage"
                        (ngSubmit)="
                          onSubmitFormKilometrage(vehiculeFormKilometage.value)
                        "
                       
                      >
                      <div class="row my-3 border rounded p-3 bg-light">
                        <input
                          type="text"
                          value="1"
                          placeholder="1"
                          class="form-control form-control-modern"
                          id="inputPassword4"
                          hidden
                          formControlName="LkilometrageID"
                        />
                        <div class="col-md-3 inputSpace">
                          <label for="inputEmail4" class="form-label"
                            >Véhicule</label
                          >
                          <select
                            disabled
                            id="inputState"
                            class="form-control form-control-modern border-success"
                            name="stockStatus"
                          >
                            <option selected>
                              [{{ imatriculation | uppercase }}] -
                              {{ marque | uppercase }} {{ modele | uppercase }}
                            </option>
                          </select>
                          <small class="text-danger"
                            >Dernier rélevé le : 24/02/2023</small
                          >
                          <!--small class="text-danger font-weight-bold">Réservoir Total: 30L</small-->
                        </div>
                        <div class="col-md-2 inputSpace">
                          <label for="inputEmail4" class="form-label"
                            >Date <span class="Oblig">*</span></label
                          >
                          <input
                            type="date"
                            value="1"
                            placeholder="1"
                            class="form-control form-control-modern"
                            id="inputPassword4"
                            formControlName="kilometrageDate"
                          />
                        </div>

                        <div class="col-md-3 inputSpace">
                          <label for="inputEmail4" class="form-label"
                            >Kilométrage <span class="Oblig">*</span></label
                          >
                          <input
                            type="number"
                            class="form-control form-control-modern"
                            id="inputPassword4"
                            formControlName="kilometrageData"
                          />
                          <small class="text-danger"
                            >Dernier kilométrage : 24089 KM</small
                          >
                        </div>
                        <div class="col-md-4 inputSpace">
                          <label for="inputEmail4" class="form-label"
                            >Observation
                          </label>
                          <input
                            type="text"
                            class="form-control form-control-modern"
                            id="inputPassword4"
                            formControlName="kilometrageObservation"
                          />
                        </div>

                        <div class="col-12 col-md-12 text-center">
                          <button
                            [disabled]="vehiculeFormKilometage.invalid"
                            style="margin-right: 10px"
                            type="submit"
                            class="submit-button btn btn-success btn-px-4 py-3 align-items-center font-weight-semibold line-height-1"
                            data-loading-text="Loading..."
                          >
                            <i class="bx bx-save text-4 mr-1"></i> Enregister
                          </button>

                          <span
                            class="submit-button btn btn-danger btn-px-4 py-3 align-items-center font-weight-semibold line-height-1"
                            (click)="actionCloseKilometrage(0)"
                          >
                            <i class="fa fa-times text-4 mr-1"></i> Quitter
                          </span>
                        </div>
                        </div>
                      </form>
                    </div>
                  </div>

                  <section class="card">
                    <!--header class="card-header" style="margin: 0px; padding: 5px;">
                                                  <h3 class="card-title" style="margin: 2px; padding: 4px;">Liste des véhicules réparés</h3>
                                                </header-->

                    <div [ngClass]="{ hidden: hiddenListeKilometre }">
                      <div>
                        <mat-form-field>
                          <mat-label>Rechercher</mat-label>
                          <input
                            matInput
                            (keyup)="applyFilter($event)"
                            placeholder="Immatriculation , modèle , direction ..."
                            #input
                          />
                        </mat-form-field>

                        <div>
                          <table
                            mat-table
                            [dataSource]="dataSourceKilometrage"
                            class="table-responsive-md table-striped mb-0"
                          >
                            <!-- Position Column -->
                            <ng-container matColumnDef="number">
                              <th mat-header-cell *matHeaderCellDef>#</th>
                              <td
                                mat-cell
                                *matCellDef="let element; let i = index"
                              >
                                {{ i + 1 }}
                              </td>
                            </ng-container>

                            <!-- Name Column -->
                            <ng-container matColumnDef="datesaisie">
                              <th mat-header-cell *matHeaderCellDef>
                                Date Création
                              </th>
                              <td mat-cell *matCellDef="let element">
                                {{ element.datesaisie | date : "dd/MM/yyyy" }}
                              </td>
                            </ng-container>

                            <!-- Weight Column -->
                            <ng-container matColumnDef="kilometrageDate">
                              <th mat-header-cell *matHeaderCellDef>
                                Date kilométrage
                              </th>
                              <td mat-cell *matCellDef="let element">
                                {{
                                  element.kilometrageDate | date : "dd/MM/yyyy"
                                }}
                              </td>
                            </ng-container>

                            <!-- Symbol Column -->
                            <ng-container matColumnDef="kilometrageData">
                              <th mat-header-cell *matHeaderCellDef>
                                Kilométrage
                              </th>
                              <td mat-cell *matCellDef="let element">
                                {{ element.kilometrageData }} KM
                              </td>
                            </ng-container>

                            <!-- Symbol Column -->
                            <ng-container matColumnDef="kilometrageObservation">
                              <th mat-header-cell *matHeaderCellDef>
                                Observation
                              </th>
                              <td mat-cell *matCellDef="let element">
                                {{ element.kilometrageObservation }}
                              </td>
                            </ng-container>

                            <!-- Symbol Column -->
                            <ng-container matColumnDef="actionKilom">
                              <th mat-header-cell *matHeaderCellDef>Actions</th>
                              <td mat-cell *matCellDef="let element">
                                <!--button type="button" class="btn btn-info btn-sm mr-2">
                                                                  <i class="bx bx-money" aria-hidden="true"></i> Dépense
                                                              </button-->
                                <button
                                  type="button"
                                  class="btn btn-secondary btn-sm mr-2"
                                  (click)="loadOneKilometrage(element.ID)"
                                >
                                  <i class="bx bxs-edit" aria-hidden="true"></i>
                                  Modifier
                                </button>

                                <span
                                  type="button"
                                  data-toggle="modal"
                                  data-target="#modal-info"
                                  class="btn btn-danger btn-sm"
                                  (click)="
                                    ItemSupprime(element.ID, 'kilometrage')
                                  "
                                >
                                  <i class="bx bxs-trash"></i> Sup
                                </span>
                                <!--button type="button" class="btn btn-primary btn-sm">Small button</button>
                                                              <button type="button" class="btn btn-primary btn-sm">Small button</button-->
                              </td>
                            </ng-container>

                            <tr
                              mat-header-row
                              *matHeaderRowDef="displayedColumnsKilometrage"
                            ></tr>
                            <tr
                              mat-row
                              *matRowDef="
                                let row;
                                columns: displayedColumnsKilometrage
                              "
                            ></tr>
                          </table>

                          <mat-paginator
                            [pageSizeOptions]="[10, 20, 30]"
                            showFirstLastButtons
                            aria-label="Select page of periodic elements"
                          >
                          </mat-paginator>
                        </div>
                      </div>
                    </div>
                  </section>
                </div>
                <div
                  class="tab-pane fade"
                  id="Infraction"
                  role="tabpanel"
                  aria-labelledby="Infraction-tab"
                >
                  <div class="row">
                    <div class="col-md-12 text-right">
                      <button
                        type="button"
                        class="btn btn-success"
                        (click)="actionCloseInfraction(1)"
                        [ngClass]="{ hidden: ActionOpenInfraction }"
                      >
                        <i class="fa fa-plus mr-2"></i>AJOUTER UNE INFRACTION
                      </button>

                      <div
                      class="d-flex align-items-center justify-content-between border-bottom pb-3"
                      [ngClass]="{ hidden: ActionCloseInfraction }"
                    >
                      <h3 class="m-0 d-flex text-danger font-weight-bold">
                        <div class="text-muted mr-2">
                          <i class="fas fa-car"></i>&nbsp;&nbsp; INFRACTION .::.
                        </div>
                        Déclaration d'une infraction
                      </h3>

                      <button
                        type="button"
                        class="btn btn-danger"
                        (click)="actionCloseInfraction(0)"
                        [ngClass]="{ hidden: ActionCloseInfraction }"
                      >
                        <i class="fas fa-times mr-2"></i>FERMER
                      </button>
                      </div>
                    </div>
                  </div>
                  <div class="card-body" [ngClass]="{ hidden: hiddenInfraction }">
                    <div class="spinner4" *ngIf="isLoadingResultsModif">
                      <div class="bounce1"></div>
                      <div class="bounce2"></div>
                      <div class="bounce3"></div>
                    </div>
                    <form
                    [formGroup]="vehiculeFormInfraction"
                    (ngSubmit)="
                      onSubmitFormInfraction(vehiculeFormInfraction.value)
                    "
                  >
                  <div class="row my-3 border rounded p-3 bg-light">
                  <input
                  type="text"
                  formControlName="LinfractionID"
                  hidden
                  class="form-control form-control-modern"
                />
                    <div class="rounded border p-3 mt-3 bg-light">
                      <div class="row">
                        <div class="col-6">
                          <div class="row">
                            <div class="col-12">
                              <div class="bg-dark py-2 px-3 rounded shadow">
                                <h3 class="m-0 d-flex text-warning">
                                  DESCRIPTION DE L'INFRACTION
                                </h3>
                              </div>
                            </div>
                            <div class="col-6 my-3">
                              <label class="form-label"
                                >Date <span class="text-danger">*</span></label
                              >
                              <input type="date" formControlName="infractiondate" class="form-control" />
                            </div>
                            <div class="col-6 my-3">
                              <label class="form-label"
                                >Heure <span class="text-danger">*</span></label
                              >
                              <input type="time" formControlName="infractionheure" class="form-control" />
                            </div>
                            <div class="col-12 mb-3">
                              <label class="form-label"
                                >Code <span class="text-danger">*</span></label
                              >
                              <input type="text" formControlName="infractioncode" class="form-control" />
                            </div>
                            <div class="col-4">
                              <label class="form-label"
                                >Vitesse mésurée
                                <span class="text-danger">*</span></label
                              >
                              <div class="input-group">
                                <input type="number" formControlName="infractionvitesse" class="form-control" />
                                <span class="input-group-text">Km/h</span>
                              </div>
                            </div>
                            <div class="col-8 mb-3">
                              <label class="form-label"
                                >Matricule agent verb.
                                <span class="text-danger">*</span></label
                              >
                              <input type="text" formControlName="infractionmatriclueagent" class="form-control" />
                            </div>
                            <div class="col-12 mb-3">
                              <label class="form-label"
                                >Lieu <span class="text-danger">*</span></label
                              >
                              <input type="text" formControlName="infractionadresse" class="form-control" />
                            </div>
                          </div>
                        </div>
                        <div class="col-6">
                          <div class="row">
                            <div class="col-12 mb-3">
                              <div class="bg-dark py-2 px-3 rounded shadow">
                                <h3 class="m-0 d-flex text-warning">
                                  EFFET SUR LA CONTRAVENTION
                                </h3>
                              </div>
                            </div>

                            <div class="col-12">
                              <textarea
                                rows="10"
                                class="form-control"
                                style="height: 232px"
                                placeholder="Description de l'effet"
                                formControlName="infractioneffet"
                              ></textarea>
                            </div>
                            <div class="col-12 mt-3">
                              <label class="form-label"
                                >Montant amende
                                <span class="text-danger">*</span></label
                              >
                              <div class="input-group">
                                <input
                                  type="number"
                                  class="form-control border-0"
                                  formControlName="infractionnmontantamende"
                                  style="background-color: rgb(227, 240, 255)"
                                />
                                <span class="input-group-text">F CFA</span>
                              </div>
                            </div>
                          </div>
                        </div>
                      
                        <div class="col-12 col-md-12 text-center">
                          <button
                            [disabled]="vehiculeFormInfraction.invalid"
                            style="margin-right: 10px"
                            type="submit"
                            class="submit-button btn btn-success btn-px-4 py-3 align-items-center font-weight-semibold line-height-1"
                            data-loading-text="Loading..."
                          >
                            <i class="bx bx-save text-4 mr-1"></i> Enregister
                          </button>

                          <span
                            class="submit-button btn btn-danger btn-px-4 py-3 align-items-center font-weight-semibold line-height-1"
                            (click)="actionCloseInfraction(0)"
                          >
                            <i class="fa fa-times text-4 mr-1"></i> Quitter
                          </span>
                        </div>
                      </div>
                    </div>
                  </div>
                    </form>
                  </div>


                  <!--div class="row" [ngClass]="{ hidden: hiddenInfraction }">
                    <div class="spinner4" *ngIf="isLoadingResultsModif">
                      <div class="bounce1"></div>
                      <div class="bounce2"></div>
                      <div class="bounce3"></div>
                    </div>
                    <div class="card-body">
                      <form
                        [formGroup]="vehiculeFormInfraction"
                        (ngSubmit)="
                          onSubmitFormInfraction(vehiculeFormInfraction.value)
                        "
                        class="row g-3"
                      >
                        <input
                          type="text"
                          formControlName="LinfractionID"
                          hidden
                          class="form-control form-control-modern"
                        />
                        
                        <div class="col-md-2 inputSpace">
                          <label
                            for="inputPassword4"
                            class="form-label inputSpaceText"
                            >Date de détection
                            <span class="Oblig">*</span></label
                          >
                          <input
                            type="datetime-local"
                            class="form-control form-control-modern"
                            id="inputPassword4"
                            formControlName="infractiondate"
                          />
                        </div>

                        <div class="col-md-4 inputSpace">
                          <label
                            for="inputPassword4"
                            class="form-label inputSpaceText"
                            >Adresse de détection
                            <span class="Oblig">*</span></label
                          >
                          <input
                            type="text"
                            class="form-control form-control-modern"
                            id="inputPassword4"
                            formControlName="infractionadresse"
                          />
                        </div>

                        <div class="col-md-3 inputSpace">
                          <label
                            for="inputPassword4"
                            class="form-label inputSpaceText"
                            >Citation <span class="Oblig">*</span></label
                          >
                          <input
                            type="text"
                            class="form-control form-control-modern"
                            id="inputPassword4"
                            formControlName="infractioncitation"
                          />
                        </div>

                        <div class="col-md-3 inputSpace">
                          <label
                            for="inputPassword4"
                            class="form-label inputSpaceText"
                            >Infraction <span class="Oblig">*</span></label
                          >
                          <input
                            type="text"
                            class="form-control form-control-modern"
                            id="inputPassword4"
                            formControlName="infractionlibelle"
                          />
                        </div>

                        <div class="col-md-2 inputSpace">
                          <label
                            for="inputPassword4"
                            class="form-label inputSpaceText"
                            >Vitesse (Km/h) <span class="Oblig">*</span></label
                          >
                          <input
                            type="number"
                            class="form-control form-control-modern"
                            id="inputPassword4"
                            formControlName="infractionvitesse"
                          />
                        </div>

                        <div class="col-md-3 inputSpace">
                          <label
                            for="inputPassword4"
                            class="form-label inputSpaceText"
                            >Identification <span class="Oblig">*</span></label
                          >
                          <input
                            type="text"
                            class="form-control form-control-modern"
                            id="inputPassword4"
                            formControlName="infractionidentification"
                          />
                        </div>

                        <div class="col-md-2 inputSpace">
                          <label
                            for="inputPassword4"
                            class="form-label inputSpaceText"
                            >Nom du conducteur<span class="Oblig"
                              >*</span
                            ></label
                          >
                          <input
                            type="text"
                            class="form-control form-control-modern"
                            id="inputPassword4"
                            formControlName="infractionnomconducteur"
                          />
                        </div>

                        <div class="col-md-2 inputSpace">
                          <label
                            for="inputPassword4"
                            class="form-label inputSpaceText"
                            >Montant amende <span class="Oblig">*</span></label
                          >
                          <input
                            type="number"
                            class="form-control form-control-modern"
                            id="inputPassword4"
                            formControlName="infractionnmontantamende"
                          />
                        </div>

                        <div class="col-md-3 inputSpace">
                          <label
                            for="inputPassword4"
                            class="form-label inputSpaceText"
                            >Justificatif
                            </label
                          >
                          <input
                            type="file"
                            class="form-control form-control-modern"
                            (change)="onFileUploadInfraction($event)"
                            #selectFileInfraction
                          />
                          <div
                            *ngIf="selecetdFileInfractionAff"
                            style="padding: 5px; font-weight: 500"
                            class="bg-warning"
                          >
                            <a
                              href="{{ selecetdFileInfraction }}"
                              target="_blank"
                              >CLIQUER POUR VOIR LE FICHIER JOINT--</a
                            >
                            <input
                              type="text"
                              hidden
                              formControlName="InfractionFileModif"
                            />
                          </div>
                        </div>

                        <div class="col-12 col-md-12 text-center">
                          <button
                            [disabled]="vehiculeFormInfraction.invalid"
                            style="margin-right: 10px"
                            type="submit"
                            class="submit-button btn btn-success btn-px-4 py-3 align-items-center font-weight-semibold line-height-1"
                            data-loading-text="Loading..."
                          >
                            <i class="bx bx-save text-4 mr-1"></i> Enregister
                          </button>

                          <span
                            class="submit-button btn btn-danger btn-px-4 py-3 align-items-center font-weight-semibold line-height-1"
                            (click)="actionCloseInfraction(0)"
                          >
                            <i class="fa fa-times text-4 mr-1"></i> Quitter
                          </span>
                        </div>
                      </form>
                    </div>
                  </div-->

                  <section class="card" [ngClass]="{ hidden: hiddenListeInfraction }">
                    <div>
                      <div>
                        <mat-form-field>
                          <mat-label>Rechercher</mat-label>
                          <input
                            matInput
                            (keyup)="applyFilter($event)"
                            placeholder="Immatriculation , modèle , direction ..."
                            #input
                          />
                        </mat-form-field>

                        <div>
                          <table
                            mat-table
                            [dataSource]="dataSourceInfraction"
                            class="table-responsive-md table-striped mb-0"
                          >
                            <ng-container matColumnDef="number">
                              <th mat-header-cell *matHeaderCellDef>#</th>
                              <td
                                mat-cell
                                *matCellDef="let element; let i = index"
                              >
                                {{ i + 1 }}
                              </td>
                            </ng-container>

                            <!-- Name Column -->
                            <ng-container matColumnDef="infractiondate">
                              <th mat-header-cell *matHeaderCellDef>
                                Date & heure Infraction
                              </th>
                              <td mat-cell *matCellDef="let element">
                                {{
                                  element.infractiondate | date : "dd/MM/yyyy"
                                }}
                                {{
                                  element.infractionheure.slice(0,5) 
                                }}
                              </td>
                            </ng-container>

                            <!-- Weight Column -->
                            <ng-container matColumnDef="infractionlibelle">
                              <th mat-header-cell *matHeaderCellDef>
                                Code
                              </th>
                              <td mat-cell *matCellDef="let element">
                                {{ element.infractioncode | uppercase }}
                              </td>
                            </ng-container>

                            <!-- Symbol Column -->
                            <ng-container
                              matColumnDef="infractionnomconducteur"
                            >
                              <th mat-header-cell *matHeaderCellDef>
                                Matricule Agent
                              </th>
                              <td mat-cell *matCellDef="let element">
                                {{
                                  element.infractionmatriclueagent | uppercase
                                }}
                              </td>
                            </ng-container>

                            <ng-container
                              matColumnDef="infractionnmontantamende"
                            >
                              <th mat-header-cell *matHeaderCellDef>
                                Montant Amende
                              </th>
                              <td mat-cell *matCellDef="let element">
                                {{ element.infractionnmontantamende }}
                              </td>
                            </ng-container>

                            <ng-container matColumnDef="infractionvitesse">
                              <th mat-header-cell *matHeaderCellDef>
                                Vitesse (Km/h)
                              </th>
                              <td
                                mat-cell
                                *matCellDef="let element"
                                style="text-align: center"
                              >
                                {{ element.infractionvitesse }} Km/h
                              </td>
                            </ng-container>

                            <!--ng-container matColumnDef="identification">
                              <th mat-header-cell *matHeaderCellDef>
                                Identification
                              </th>
                              <td mat-cell *matCellDef="let element">
                                {{ element.identification }}
                              </td>
                            </ng-container>

                            <ng-container matColumnDef="nom">
                              <th mat-header-cell *matHeaderCellDef>Nom</th>
                              <td mat-cell *matCellDef="let element">
                                {{ element.nom }}
                              </td>
                            </ng-container>

                            <ng-container matColumnDef="montant">
                              <th mat-header-cell *matHeaderCellDef>Montant</th>
                              <td mat-cell *matCellDef="let element">
                                {{ element.montant }}
                              </td>
                            </ng-container-->

                            <!-- Symbol Column 
                                                           <ng-container matColumnDef="etat">
                                                              <th mat-header-cell *matHeaderCellDef> Etat </th>
                                                              <td mat-cell *matCellDef="let element"> 
                                                                  <span *ngIf="element.etat=='Parc'" class="badge badge-pill badge-success text-1">{{element.etat}}</span>
                                                                  <span *ngIf="element.etat!='Parc'"class="badge badge-pill badge-danger text-1">{{element.etat}}</span>
                                                                 </td>
                                                            </ng-container>-->

                            <!-- Symbol Column Actions-->
                            <ng-container matColumnDef="actioninfraction">
                              <th mat-header-cell *matHeaderCellDef>Actions</th>
                              <td mat-cell *matCellDef="let element">
                                <!--button type="button" class="btn btn-info btn-sm mr-2">
                                                                  <i class="bx bx-money" aria-hidden="true"></i> Dépense
                                                              </button-->
                                <button
                                  type="button"
                                  class="btn btn-secondary btn-sm mr-2"
                                  (click)="loadOneInfraction(element.ID)"
                                >
                                  <i class="bx bxs-edit" aria-hidden="true"></i>
                                  Modifier
                                </button>

                                <span
                                  type="button"
                                  data-toggle="modal"
                                  data-target="#modal-info"
                                  class="btn btn-danger btn-sm"
                                  (click)="
                                    ItemSupprime(element.ID, 'infraction')
                                  "
                                >
                                  <i class="bx bxs-trash"></i> Sup
                                </span>
                                <!--button type="button" class="btn btn-primary btn-sm">Small button</button>
                                                              <button type="button" class="btn btn-primary btn-sm">Small button</button-->
                              </td>
                            </ng-container>

                            <tr
                              mat-header-row
                              *matHeaderRowDef="displayedColumnsInfraction"
                            ></tr>
                            <tr
                              mat-row
                              *matRowDef="
                                let row;
                                columns: displayedColumnsInfraction
                              "
                            ></tr>
                          </table>

                          <mat-paginator
                            [pageSizeOptions]="[10, 20, 30]"
                            showFirstLastButtons
                            aria-label="Select page of periodic elements"
                          >
                          </mat-paginator>
                        </div>
                      </div>
                    </div>
                  </section>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>

  <!-- /.modal -->
  <!--div class="modal fade" id="modal-AddDocument">
        <div class="modal-dialog">
            <form [formGroup]="documentForm" (ngSubmit)="onSubmitFormDocument(documentForm.value)"
                  class="ecommerce-form action-buttons-fixed" action="#" method="post">
            <div class="modal-content bg-default">
                <div class="modal-header" style="height: 50px;">
                    <h2 class="modal-title">AJOUTER UN MEDIA AU VEHICULE </h2>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body">
                
                  <div class="row">
                  <div class="col-md-12 inputSpace">
                    <label for="Description" class="form-label inputSpaceText">Description<span class="Oblig">*</span></label>
                    <input type="text" class="form-control inputSpaceText"
                      formControlName="Description" id="Description">
                  </div>
                  <div class="col-md-12 inputSpace">
                    <img  [src]="MediaFIlePreview" style="width:200px;" class="image-preview rounded img-fluid">
                    <input style="display: none" type="file" (change)="onFileUploadDocument($event)" #selectFileDocuemnt>
                    <label (click)="selectFileDocuemnt.click()">Selectionner un média du véhicule <span class="Oblig">*</span></label>
                         
                  </div>
                  </div>
                 
                </div>
                <div class="modal-footer justify-content-between">
                    <button type="button" class="btn btn-outline-dark" data-dismiss="modal">Annuler</button>
                    <button type="submit" class="btn btn-danger" [disabled]="documentForm.invalid"><i class="fa fa-plus"></i> Ajouer</button>
                </div>
            </div>
            </form>
    
        </div>

      </div-->
  <!-- /.modal -->

  <!-- /.modal -->
  <!--div class="modal fade" id="modal-info">
      <div class="modal-dialog">
          <div class="modal-content bg-default">
              <div class="modal-header" style="height: 50px;">
                  <h2 class="modal-title">PARC AUTO - RTI </h2>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span></button>
              </div>
              <div class="modal-body">
                  <p>Voulez-vous supprimer le véhichule ?</p>
              </div>
              <div class="modal-footer justify-content-between">
                  <button type="button" class="btn btn-outline-dark" data-dismiss="modal">Annuler</button>
                  <button type="button" class="btn btn-danger" (click)="supprime()"
                      data-dismiss="modal">Supprimer</button>
              </div>
          </div>
   
      </div>

    </div-->
  <!-- /.modal -->
</section>

<!-- /.modal -->
<div class="modal fade" id="modal-info">
  <div class="modal-dialog">
    <div class="modal-content bg-default">
      <div class="modal-header" style="height: 50px">
        <h2 class="modal-title">PARC AUTO - RTI</h2>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>Voulez-vous supprimer ?</p>
      </div>
      <div class="modal-footer justify-content-between">
        <button type="button" class="btn btn-outline-dark" data-dismiss="modal">
          Annuler
        </button>
        <button
          type="button"
          class="btn btn-danger"
          (click)="supprime()"
          data-dismiss="modal"
        >
          Supprimer
        </button>
      </div>
    </div>
    <!-- /.modal-content -->
  </div>
  <!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div
  class="modal fade"
  id="addNature"
  data-bs-backdrop="static"
  data-bs-keyboard="false"
  tabindex="-1"
  aria-labelledby="staticBackdropLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <form class="modal-content">
      <div class="modal-header bg-secondary fw-bold text-white">
        <h2 class="modal-title" id="staticBackdropLabel">
          Ajouter une nature de sinistre
        </h2>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="form-group mb-3 col-12">
            <label class="form-label">Libellé de la nature</label>
            <input type="text" class="form-control w-100" />
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-sm btn-danger"
          data-dismiss="modal"
        >
          Fermer
        </button>
        <button type="button" class="btn btn-sm btn-success">
          Enregistrer
        </button>
      </div>
    </form>
  </div>
</div>
